(this["webpackJsonpcampus-app-v2"]=this["webpackJsonpcampus-app-v2"]||[]).push([[25],{1979:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(1932),r=n(1931),s=n(1936),o=n(2165),a=n(2133),l=n(2281);class u{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new a.c(e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new a.c({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a.c({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"===typeof e.autoCloseBefore?e.autoCloseBefore:u.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,n){if(0===t.getTokenCount())return!0;const i=t.findTokenIndexAtOffset(n-2),r=t.getStandardTokenType(i);return e.isOK(r)}getSurroundingPairs(){return this._surroundingPairs}}u.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var c=n(2282);class d{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return e=e.filter((e,t,n)=>n.indexOf(e)===t),e}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if(Object(l.b)(t.getStandardTokenType(i)))return null;const r=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,n-1)+e,o=c.a.findPrevBracketInRange(r,1,s,0,s.length);if(!o)return null;const a=s.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const u=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:a}:null}}function h(e){return e.global&&(e.lastIndex=0),!0}class g{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&h(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&h(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&h(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&h(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var f=n(1945);class _{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{const t=_._createOpenBracketRegExp(e[0]),n=_._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let r=0,s=this._regExpRules.length;r<s;r++){let e=this._regExpRules[r];if([{reg:e.beforeText,text:n},{reg:e.afterText,text:i},{reg:e.previousLineText,text:t}].every(e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))))return e.action}if(e>=2&&n.length>0&&i.length>0)for(let r=0,s=this._brackets.length;r<s;r++){let e=this._brackets[r];if(e.openRegExp.test(n)&&e.closeRegExp.test(i))return{indentAction:a.b.IndentOutdent}}if(e>=2&&n.length>0)for(let r=0,s=this._brackets.length;r<s;r++){if(this._brackets[r].openRegExp.test(n))return{indentAction:a.b.Indent}}return null}static _createOpenBracketRegExp(e){let t=s.t(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",_._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=s.t(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,_._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Object(f.e)(t),null}}}class m{constructor(e,t){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null,this._conf=t,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new _(this._conf):null,this.comments=m._handleComments(this._conf),this.characterPair=new u(this._conf),this.wordDefinition=this._conf.wordPattern||o.a,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new g(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new c.b(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}class p{constructor(e){this.languageIdentifier=e}}class S{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class C{constructor(e){this.languageIdentifier=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new S(e,t,++this._order);return this._entries.push(n),this._resolved=null,Object(r.h)(()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new m(this.languageIdentifier,e))}return this._resolved}_resolve(){if(0===this._entries.length)return null;this._entries.sort(S.cmp);const e={};for(const t of this._entries){const n=t.configuration;e.comments=n.comments||e.comments,e.brackets=n.brackets||e.brackets,e.wordPattern=n.wordPattern||e.wordPattern,e.indentationRules=n.indentationRules||e.indentationRules,e.onEnterRules=n.onEnterRules||e.onEnterRules,e.autoClosingPairs=n.autoClosingPairs||e.autoClosingPairs,e.surroundingPairs=n.surroundingPairs||e.surroundingPairs,e.autoCloseBefore=n.autoCloseBefore||e.autoCloseBefore,e.folding=n.folding||e.folding,e.__electricCharacterSupport=n.__electricCharacterSupport||e.__electricCharacterSupport}return e}}const b=new class{constructor(){this._entries2=new Map,this._onDidChange=new i.a,this.onDidChange=this._onDidChange.event}register(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._entries2.get(e.id);i||(i=new C(e),this._entries2.set(e.id,i));const s=i.register(t,n);return this._onDidChange.fire(new p(e)),Object(r.h)(()=>{s.dispose(),this._onDidChange.fire(new p(e))})}_getRichEditSupport(e){const t=this._entries2.get(e);return t?t.getRichEditSupport():null}getIndentationRules(e){const t=this._getRichEditSupport(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,n){let i=Object(l.a)(t,n-1),r=this._getElectricCharacterSupport(i.languageId);return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new a.a(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():u.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,n){const i=Object(l.a)(t,n-1);return u.shouldAutoClosePair(e,i,n-i.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return t?Object(o.c)(t.wordDefinition||null):Object(o.c)(null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,n){let i=e.getLanguageIdAtPosition(t,0);if(t>1){let r,s=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==i)return s;let t=e.getLineContent(r);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return r;s=r}}return-1}getInheritIndentForLine(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e<4)return null;const r=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!r)return null;if(n<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,n,r);if(o<0)return null;if(o<1)return{indentation:"",action:null};const l=t.getLineContent(o);if(r.shouldIncrease(l)||r.shouldIndentNextLine(l))return{indentation:s.x(l),action:a.b.Indent,line:o};if(r.shouldDecrease(l))return{indentation:s.x(l),action:null,line:o};{if(1===o)return{indentation:s.x(t.getLineContent(o)),action:null,line:o};const e=o-1,n=r.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!r.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:s.x(t.getLineContent(n+1)),action:null,line:n+1}}if(i)return{indentation:s.x(t.getLineContent(o)),action:null,line:o};for(let i=o;i>0;i--){const e=t.getLineContent(i);if(r.shouldIncrease(e))return{indentation:s.x(e),action:a.b.Indent,line:i};if(r.shouldIndentNextLine(e)){let e=0;for(let n=i-1;n>0;n--)if(!r.shouldIndentNextLine(t.getLineContent(i))){e=n;break}return{indentation:s.x(t.getLineContent(e+1)),action:null,line:e+1}}if(r.shouldDecrease(e))return{indentation:s.x(e),action:null,line:i}}return{indentation:s.x(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,n,i,r){if(e<4)return null;const o=this._getRichEditSupport(n);if(!o)return null;const l=this.getIndentRulesSupport(n);if(!l)return null;const u=this.getInheritIndentForLine(e,t,i),c=t.getLineContent(i);if(u){const n=u.line;if(void 0!==n){const i=o.onEnter(e,"",t.getLineContent(n),"");if(i){let e=s.x(t.getLineContent(n));return i.removeText&&(e=e.substring(0,e.length-i.removeText)),i.indentAction===a.b.Indent||i.indentAction===a.b.IndentOutdent?e=r.shiftIndent(e):i.indentAction===a.b.Outdent&&(e=r.unshiftIndent(e)),l.shouldDecrease(c)&&(e=r.unshiftIndent(e)),i.appendText&&(e+=i.appendText),s.x(e)}}return l.shouldDecrease(c)?u.action===a.b.Indent?u.indentation:r.unshiftIndent(u.indentation):u.action===a.b.Indent?r.shiftIndent(u.indentation):u.indentation}return null}getIndentForEnter(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);const r=t.getLineTokens(n.startLineNumber),o=Object(l.a)(r,n.startColumn-1),u=o.getLineContent();let c,d,h=!1;if(o.firstCharOffset>0&&r.getLanguageId(0)!==o.languageId?(h=!0,c=u.substr(0,n.startColumn-1-o.firstCharOffset)):c=r.getLineContent().substring(0,n.startColumn-1),n.isEmpty())d=u.substr(n.startColumn-1-o.firstCharOffset);else{d=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset)}const g=this.getIndentRulesSupport(o.languageId);if(!g)return null;const f=c,_=s.x(c),m={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n),getLineContent:e=>e===n.startLineNumber?f:t.getLineContent(e)},p=s.x(r.getLineContent()),S=this.getInheritIndentForLine(e,m,n.startLineNumber+1);if(!S){const e=h?p:_;return{beforeEnter:e,afterEnter:e}}let C=h?p:S.indentation;return S.action===a.b.Indent&&(C=i.shiftIndent(C)),g.shouldDecrease(d)&&(C=i.unshiftIndent(C)),{beforeEnter:h?p:_,afterEnter:C}}getIndentActionForType(e,t,n,i,r){if(e<4)return null;const s=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(s.firstCharOffset)return null;const o=this.getIndentRulesSupport(s.languageId);if(!o)return null;const l=s.getLineContent(),u=l.substr(0,n.startColumn-1-s.firstCharOffset);let c;if(n.isEmpty())c=l.substr(n.startColumn-1-s.firstCharOffset);else{c=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset)}if(!o.shouldDecrease(u+c)&&o.shouldDecrease(u+i+c)){const i=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!i)return null;let s=i.indentation;return i.action!==a.b.Indent&&(s=r.unshiftIndent(s)),s}return null}getIndentMetadata(e,t){const n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,n){const i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),r=this._getRichEditSupport(i.languageId);if(!r)return null;const s=i.getLineContent(),o=s.substr(0,n.startColumn-1-i.firstCharOffset);let l;if(n.isEmpty())l=s.substr(n.startColumn-1-i.firstCharOffset);else{l=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-i.firstCharOffset)}let u="";if(n.startLineNumber>1&&0===i.firstCharOffset){const e=this.getScopedLineTokens(t,n.startLineNumber-1);e.languageId===i.languageId&&(u=e.getLineContent())}const c=r.onEnter(e,u,o,l);if(!c)return null;const d=c.indentAction;let h=c.appendText;const g=c.removeText||0;h?d===a.b.Indent&&(h="\t"+h):h=d===a.b.Indent||d===a.b.IndentOutdent?"\t":"";let f=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return g&&(f=f.substring(0,f.length-g)),{indentAction:d,appendText:h,removeText:g,indentation:f}}getIndentationAtPosition(e,t,n){const i=e.getLineContent(t);let r=s.x(i);return r.length>n-1&&(r=r.substring(0,n-1)),r}getScopedLineTokens(e,t,n){e.forceTokenization(t);const i=e.getLineTokens(t),r="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return Object(l.a)(i,r)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}}},1988:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n(1939);const r=Object(i.c)("modelService");function s(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},2061:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u}));var i=n(2170),r=n(1951);const s=new class{clone(){return this}equals(e){return this===e}},o="vs.editor.nullMode",a=new r.u(o,0);function l(e,t,n,r){return new i.b([new i.a(r,"",e)],n)}function u(e,t,n,r){let o=new Uint32Array(2);return o[0]=r,o[1]=(16384|e<<0|2<<23)>>>0,new i.c(o,null===n?s:n)}},2087:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1939);const r=Object(i.c)("modeService")},2088:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1939);const r=Object(i.c)("editorWorkerService")},2133:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));class r{constructor(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0===(this._standardTokenMask&e)}}class s{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)o(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),o(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),o(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),o(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&o(this.autoClosingPairsCloseSingleChar,t.close,t)}}function o(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},2182:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c}));var i=n(1937),r=n(1932),s=n(1951),o=n(1979),a=n(1970);const l=new class{constructor(){this._onDidChangeLanguages=new r.a,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};a.a.add("editor.modesRegistry",l);const u="plaintext",c=new s.u(u,1);l.registerLanguage({id:u,extensions:[".txt"],aliases:[i.a("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),o.a.register(c,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)},2272:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1939);const r=Object(i.c)("textModelService")},2281:function(e,t,n){"use strict";function i(e,t){let n=e.getCount(),i=e.findTokenIndexAtOffset(t),s=e.getLanguageId(i),o=i;for(;o+1<n&&e.getLanguageId(o+1)===s;)o++;let a=i;for(;a>0&&e.getLanguageId(a-1)===s;)a--;return new r(e,s,a,o+1,e.getStartOffset(a),e.getEndOffset(o))}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));class r{constructor(e,t,n,i,r,s){this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=r,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function s(e){return 0!==(7&e)}},2282:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return f}));var i=n(1936),r=n(2059),s=n(1933);class o{constructor(e,t,n,i,r,s){this.languageIdentifier=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=r,this.reversedRegex=s,this._openSet=o._toSet(this.open),this._closeSet=o._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}class a{constructor(e,t){const n=function(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const n=[];for(let o=0;o<t;o++)n[o]=o;const i=(e,t)=>{const[n,i]=e,[r,s]=t;return n===r||n===s||i===r||i===s},r=(e,i)=>{const r=Math.min(e,i),s=Math.max(e,i);for(let o=0;o<t;o++)n[o]===s&&(n[o]=r)};for(let o=0;o<t;o++){const s=e[o];for(let a=o+1;a<t;a++){i(s,e[a])&&r(n[o],n[a])}}const s=[];for(let o=0;o<t;o++){let i=[],r=[];for(let s=0;s<t;s++)if(n[s]===o){const[t,n]=e[s];i.push(t),r.push(n)}i.length>0&&s.push({open:i,close:r})}return s}(t);this.brackets=n.map((t,i)=>new o(e,i,t.open,t.close,function(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let s=0,o=r.length;s<o;s++)l(r[s],n,i,r);return r=c(r),r.sort(u),r.reverse(),h(r)}(t.open,t.close,n,i),function(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let s=0,o=r.length;s<o;s++)l(r[s],n,i,r);return r=c(r),r.sort(u),r.reverse(),h(r.map(g))}(t.open,t.close,n,i))),this.forwardRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=c(t),h(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=c(t),h(t.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const i of this.brackets){for(const e of i.open)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of i.close)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function l(e,t,n,i){for(let r=0,s=t.length;r<s;r++){if(r===n)continue;const s=t[r];for(const t of s.open)t.indexOf(e)>=0&&i.push(t);for(const t of s.close)t.indexOf(e)>=0&&i.push(t)}}function u(e,t){return e.length-t.length}function c(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function d(e){const t=/^[\w ]+$/.test(e);return e=i.t(e),t?`\\b${e}\\b`:e}function h(e){let t=`(${e.map(d).join(")|(")})`;return i.p(t,!0)}const g=function(){let e=null,t=null;return function(n){return e!==n&&(e=n,t=function(e){if(r.d){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return r.c().decode(t)}{let t=[],n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charAt(i);return t.join("")}}(e)),t}}();class f{static _findPrevBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=n.length-(r.index||0),a=r[0].length,l=i+o;return new s.a(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,i,r){const s=g(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,s,i)}static findNextBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=r.index||0,a=r[0].length;if(0===a)return null;let l=i+o;return new s.a(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,i,r){const s=n.substring(i,r);return this.findNextBracketInText(e,t,s,i)}}},2300:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n(1939);const r=Object(i.c)("textResourceConfigurationService"),s=Object(i.c)("textResourcePropertiesService")},2420:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var i=n(1936),r=n(2085),s=n(2061);const o={getInitialState:()=>s.c,tokenize2:(e,t,n,i)=>Object(s.e)(0,e,n,i)};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return u(e,t||o)}function l(e,t,n,i,r,s,o){let a="<div>",l=i,u=0;for(let c=0,d=t.getCount();c<d;c++){const d=t.getEndOffset(c);if(d<=i)continue;let h="";for(;l<d&&l<r;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=s-(l+u)%s;for(u+=e-1;e>0;)h+=o?"&#160;":" ",e--;break;case 60:h+="&lt;";break;case 62:h+="&gt;";break;case 38:h+="&amp;";break;case 0:h+="&#00;";break;case 65279:case 8232:case 8233:case 133:h+="\ufffd";break;case 13:h+="&#8203";break;case 32:h+=o?"&#160;":" ";break;default:h+=String.fromCharCode(t)}}if(a+=`<span style="${t.getInlineStyle(c,n)}">${h}</span>`,d>r||l>=r)break}return a+="</div>",a}function u(e,t){let n='<div class="monaco-tokenized-source">',s=i.Q(e),o=t.getInitialState();for(let a=0,l=s.length;a<l;a++){let e=s[a];a>0&&(n+="<br/>");let l=t.tokenize2(e,!0,o,0);r.a.convertToEndOffset(l.tokens,e.length);let u=new r.a(l.tokens,e).inflate(),c=0;for(let t=0,r=u.getCount();t<r;t++){const r=u.getClassName(t),s=u.getEndOffset(t);n+=`<span class="${r}">${i.s(e.substring(c,s))}</span>`,c=s}o=l.endState}return n+="</div>",n}},2426:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(1939);const r=Object(i.c)("markerDecorationsService")},2435:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(1951),r=n(2039),s=n(2169);class o{constructor(e,t,n){this._legend=e,this._themeService=t,this._logService=n,this._hashTable=new u,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,n){const s=this._hashTable.get(e,t,n.id);let o;if(s)o=s.metadata,this._logService.getLevel()===r.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${i.C.getForeground(o)}, fontStyle ${i.C.getFontStyle(o).toString(2)}`);else{let s=this._legend.tokenTypes[e];const a=[];if(s){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&a.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===r.c.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),a.push("not-in-legend"));const i=this._themeService.getColorTheme().getTokenStyleMetadata(s,a,n.language);if("undefined"===typeof i)o=2147483647;else{if(o=0,"undefined"!==typeof i.italic){o|=1|(i.italic?1:0)<<11}if("undefined"!==typeof i.bold){o|=2|(i.bold?2:0)<<11}if("undefined"!==typeof i.underline){o|=4|(i.underline?4:0)<<11}if(i.foreground){o|=8|i.foreground<<14}0===o&&(o=2147483647)}}else this._logService.getLevel()===r.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,s="not-in-legend";this._hashTable.add(e,t,n.id,o),this._logService.getLevel()===r.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${s}) / ${t} (${a.join(" ")}): foreground ${i.C.getForeground(o)}, fontStyle ${i.C.getFontStyle(o).toString(2)}`)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}}function a(e,t,n){const i=e.data,r=e.data.length/5|0,o=Math.max(Math.ceil(r/1024),400),a=[];let l=0,u=1,c=0;for(;l<r;){const e=l;let d=Math.min(e+o,r);if(d<r){let t=d;for(;t-1>e&&0===i[5*t];)t--;if(t-1===e){let e=d;for(;e+1<r&&0===i[5*e];)e++;d=e}else d=t}let h=new Uint32Array(4*(d-e)),g=0,f=0,_=0,m=0,p=0;for(;l<d;){const e=5*l,r=i[e],s=i[e+1],o=u+r,a=0===r?c+s:s,d=i[e+2],S=i[e+3],C=i[e+4],b=t.getMetadata(S,C,n);2147483647!==b&&(0===f&&(f=o),_===o&&p>a&&(t.warnOverlappingSemanticTokens(o,a+1),m<a?h[g-4+2]=a:g-=4),h[g]=o-f,h[g+1]=a,h[g+2]=a+d,h[g+3]=b,g+=4,_=o,m=a,p=a+d),u=o,c=a,l++}g!==h.length&&(h=h.subarray(0,g));const S=new s.a(f,new s.c(h));a.push(S)}return a}class l{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class u{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=u._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<u._SIZES.length?2/3*this._currentLength:0),this._elements=[],u._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let r=this._elements[i];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===n)return r;r=r.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=u._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<u._SIZES.length?2/3*this._currentLength:0),this._elements=[],u._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new l(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}u._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},2436:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return T}));var i=n(1932),r=n(1931),s=n(1940),o=n(1945),a=n(1967),l=n(2026),u=n(1951),c=n(2182),d=n(2300),h=n(1994),g=n(1943),f=n(1958),_=n(1944),m=n(2039),p=n(2301),S=n(2280),C=n(2403),b=n(1987),k=n(2435),v=n(2477),M=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},L=function(e,t){return function(n,i){t(n,i,e)}};function y(e){return e.toString()}function I(e){const t=new S.a,n=e.createSnapshot();let i;for(;i=n.read();)t.update(i);return t.digest()}class w{constructor(e,t,n){this._modelEventListeners=new r.b,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>n(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageIdentifier)),this.model.setMode(e.languageIdentifier)}}const O=s.d||s.f?1:2;class x{constructor(e,t,n,i,r,s,o,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=r,this.sha1=s,this.versionId=o,this.alternativeVersionId=a}}let R=class e extends r.a{constructor(e,t,n,r,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=n,this._logService=r,this._undoRedoService=s,this._onModelAdded=this._register(new i.a),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new i.a),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new i.a),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new A(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new E(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let n=a.d.tabSize;if(e.editor&&"undefined"!==typeof e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let i=n;if(e.editor&&"undefined"!==typeof e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let r=a.d.insertSpaces;e.editor&&"undefined"!==typeof e.editor.insertSpaces&&(r="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let s=O;const o=e.eol;"\r\n"===o?s=2:"\n"===o&&(s=1);let l=a.d.trimAutoWhitespace;e.editor&&"undefined"!==typeof e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let u=a.d.detectIndentation;e.editor&&"undefined"!==typeof e.editor.detectIndentation&&(u="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=a.d.largeFileOptimizations;return e.editor&&"undefined"!==typeof e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:n,indentSize:i,insertSpaces:r,detectIndentation:u,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:c}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"auto"!==n?n:3===s.a||2===s.a?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!==typeof e||e}getCreationOptions(t,n,i){let r=this._modelCreationOptionsByLanguageAndResource[t+n];if(!r){const s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:n}),o=this._getEOL(n,t);r=e._readModelOptions({editor:s,eol:o},i),this._modelCreationOptionsByLanguageAndResource[t+n]=r}return r}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let i=0,r=n.length;i<r;i++){const r=n[i],s=this._models[r],o=s.model.getLanguageIdentifier().language,a=s.model.uri,l=t[o+a],u=this.getCreationOptions(o,a,s.model.isForSimpleWidget);e._setModelOptionsForModel(s.model,u,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_insertDisposedModel(e){this._disposedModels.set(y(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(y(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(y(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||t.push(e)}),t.sort((e,t)=>e.time-t.time);t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const r=this.getCreationOptions(t.language,n,i),s=new l.b(e,r,t,n,this._undoRedoService);if(n&&this._disposedModels.has(y(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=I(s)===e.sha1;if(i||e.sharesUndoRedoStack){for(const e of t.past)Object(C.b)(e)&&e.matchesResource(n)&&e.setModel(s);for(const e of t.future)Object(C.b)(e)&&e.matchesResource(n)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(n,!0,e=>Object(C.b)(e)&&e.matchesResource(n)),i&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const o=y(s.uri);if(this._models[o])throw new Error("ModelService: Cannot add model because it already exists!");const a=new w(s,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[o]=a,a}createModel(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t?(i=this._createModelData(e,t.languageIdentifier,n,r),this.setMode(i.model,t)):i=this._createModelData(e,c.b,n,r),this._onModelAdded.fire(i.model),i.model}setMode(e,t){if(!t)return;const n=this._models[y(e.uri)];n&&n.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=y(e),n=this._models[t];return n?n.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(t){const n=y(t.uri),i=this._models[n],r=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&((a=t.uri).scheme===b.c.file||a.scheme===b.c.vscodeRemote||a.scheme===b.c.userData||"fake-fs"===a.scheme)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const n of e.past)Object(C.b)(n)&&n.matchesResource(t.uri)&&(s=!0,o+=n.heapSize(t.uri),n.setModel(t.uri));for(const n of e.future)Object(C.b)(n)&&n.matchesResource(t.uri)&&(s=!0,o+=n.heapSize(t.uri),n.setModel(t.uri))}}var a;const l=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!r&&o>l){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(l-o),this._undoRedoService.setElementsValidFlag(t.uri,!1,e=>Object(C.b)(e)&&e.matchesResource(t.uri)),this._insertDisposedModel(new x(t.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,I(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!r){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[n],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,n){const i=n.oldLanguage,r=t.getLanguageIdentifier().language,s=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),o=this.getCreationOptions(r,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,o,s),this._onModelModeChanged.fire({model:t,oldModeId:i})}};R.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,R=M([L(0,h.a),L(1,d.b),L(2,_.b),L(3,m.b),L(4,p.a)],R);const D="editor.semanticHighlighting";function T(e,t,n){var i;const r=null===(i=n.getValue(D,{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===i?void 0:i.enabled;return"boolean"===typeof r?r:t.getColorTheme().semanticHighlighting}class E extends r.a{constructor(e,t,n,i){super(),this._watchers=Object.create(null),this._semanticStyling=i;const r=e=>{this._watchers[e.uri.toString()]=new N(e,t,this._semanticStyling)},s=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},o=()=>{for(let i of e.getModels()){const e=this._watchers[i.uri.toString()];T(i,t,n)?e||r(i):e&&s(i,e)}};this._register(e.onModelAdded(e=>{T(e,t,n)&&r(e)})),this._register(e.onModelRemoved(e=>{const t=this._watchers[e.uri.toString()];t&&s(e,t)})),this._register(n.onDidChangeConfiguration(e=>{e.affectsConfiguration(D)&&o()})),this._register(t.onDidColorThemeChange(o))}}class A extends r.a{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new k.a(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class P{constructor(e,t,n){this._provider=e,this.resultId=t,this.data=n}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class N extends r.a{constructor(e,t,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=n,this._fetchDocumentSemanticTokens=this._register(new g.e(()=>this._fetchDocumentSemanticTokensNow(),N.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const i=()=>{Object(r.f)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of u.l.all(e))"function"===typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};i(),this._register(u.l.onDidChange(()=>{i(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=new f.b,t=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=Object(v.b)(this._model,t,e.token);if(!n)return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const{provider:i,request:r}=n;this._currentDocumentRequestCancellationTokenSource=e;const s=[],a=this._model.onDidChangeContent(e=>{s.push(e)}),l=this._semanticStyling.get(i);r.then(e=>{this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),this._setDocumentSemanticTokens(i,e||null,l,s)},e=>{e&&(o.d(e)||"string"===typeof e.message&&-1!==e.message.indexOf("busy"))||o.e(e),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,n,i,r){for(let s=0;s<r;s++)n[i+s]=e[t+s]}_setDocumentSemanticTokens(e,t,n,i){const r=this._currentDocumentResponse,s=()=>{i.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&n){if(!t)return this._model.setSemanticTokens(null,!0),void s();if(Object(v.d)(t)){if(!r)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:r.data};else{let e=0;for(const r of t.edits)e+=(r.data?r.data.length:0)-r.deleteCount;const n=r.data,i=new Uint32Array(n.length+e);let s=n.length,o=i.length;for(let r=t.edits.length-1;r>=0;r--){const e=t.edits[r],a=s-(e.start+e.deleteCount);a>0&&(N._copy(n,s-a,i,o-a,a),o-=a),e.data&&(N._copy(e.data,0,i,o-e.data.length,e.data.length),o-=e.data.length),s=e.start}s>0&&N._copy(n,0,i,0,s),t={resultId:t.resultId,data:i}}}if(Object(v.c)(t)){this._currentDocumentResponse=new P(e,t.resultId,t.data);const r=Object(k.b)(t,n,this._model.getLanguageIdentifier());if(i.length>0)for(const e of i)for(const t of r)for(const n of e.changes)t.applyEdit(n.range,n.text);this._model.setSemanticTokens(r,!0)}else this._model.setSemanticTokens(null,!0);s()}else this._model.setSemanticTokens(null,!1)}}N.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},2469:function(e,t,n){"use strict";n.d(t,"b",(function(){return B})),n.d(t,"a",(function(){return H}));var i=n(1943),r=n(1931),s=n(2440),o=n(2876),a=n(1933),l=n(1951),u=n(1979),c=n(2324),d=n(1940),h=n(1955),g=n(1941),f=n(2877),_=n(2878),m=n(2165),p=n(2167);class S{constructor(e,t,n){const i=new Uint8Array(e*t);for(let r=0,s=e*t;r<s;r++)i[r]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class C{constructor(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++){let[i,s,o]=e[r];s>t&&(t=s),i>n&&(n=i),o>n&&(n=o)}t++,n++;let i=new S(n,t,0);for(let r=0,s=e.length;r<s;r++){let[t,n,s]=e[r];i.set(t,n,s)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let b=null;let k=null;class v{static _createLink(e,t,n,i,r){let s=r-1;do{const n=t.charCodeAt(s);if(2!==e.get(n))break;s--}while(s>i);if(i>0){const e=t.charCodeAt(i-1),n=t.charCodeAt(s);(40===e&&41===n||91===e&&93===n||123===e&&125===n)&&s--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:s+2},url:t.substring(i,s+1)}}static computeLinks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null===b&&(b=new C([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),b);const n=function(){if(null===k){k=new p.a(0);const e=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let n=0;n<e.length;n++)k.set(e.charCodeAt(n),1);const t=".,;";for(let n=0;n<t.length;n++)k.set(t.charCodeAt(n),2)}return k}();let i=[];for(let r=1,s=e.getLineCount();r<=s;r++){const s=e.getLineContent(r),o=s.length;let a=0,l=0,u=0,c=1,d=!1,h=!1,g=!1,f=!1;for(;a<o;){let e=!1;const o=s.charCodeAt(a);if(13===c){let t;switch(o){case 40:d=!0,t=0;break;case 41:t=d?0:1;break;case 91:g=!0,h=!0,t=0;break;case 93:g=!1,t=h?0:1;break;case 123:f=!0,t=0;break;case 125:t=f?0:1;break;case 39:t=34===u||96===u?0:1;break;case 34:t=39===u||96===u?0:1;break;case 96:t=39===u||34===u?0:1;break;case 42:t=42===u?1:0;break;case 124:t=124===u?1:0;break;case 32:t=g?0:1;break;default:t=n.get(o)}1===t&&(i.push(v._createLink(n,s,r,l,a)),e=!0)}else if(12===c){let t;91===o?(h=!0,t=0):t=n.get(o),1===t?e=!0:c=13}else c=t.nextState(c,o),0===c&&(e=!0);e&&(c=1,d=!1,h=!1,f=!1,l=a+1,u=o),a++}13===c&&i.push(v._createLink(n,s,r,l,o))}return i}}class M{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,i,r){if(e&&t){let n=this.doNavigateValueSet(t,r);if(n)return{range:e,value:n}}if(n&&i){let e=this.doNavigateValueSet(i,r);if(e)return{range:n,value:e}}return null}doNavigateValueSet(e,t){let n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}numberReplace(e,t){let n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let r=0,s=e.length;null===i&&r<s;r++)i=this.valueSetReplace(e[r],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}M.INSTANCE=new M;var L=n(2439),y=n(1953),I=n(2082),w=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class O extends _.a{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let n=Object(m.d)(e.column,Object(m.c)(t),this._lines[e.lineNumber-1],0);return n?new a.a(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}words(e){const t=this._lines,n=this._wordenize.bind(this);let i=0,r="",s=0,o=[];return{*[Symbol.iterator](){for(;;)if(s<o.length){const e=r.substring(o[s].start,o[s].end);s+=1,yield e}else{if(!(i<t.length))break;r=t[i],o=n(r,e),s=0,i+=1}}}}getLineWords(e,t){let n=this._lines[e-1],i=this._wordenize(n,t),r=[];for(const s of i)r.push({word:n.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return r}_wordenize(e,t){const n=[];let i;for(t.lastIndex=0;(i=t.exec(e))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,r=[];r.push(this._lines[n].substring(e.startColumn-1));for(let s=n+1;s<i;s++)r.push(this._lines[s]);return r.push(this._lines[i].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!g.a.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{let e=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>e&&(n=e,i=!0)}return i?{lineNumber:t,column:n}:e}}class x{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new O(h.a.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,n,i){return w(this,void 0,void 0,(function*(){const r=this._getModel(e),s=this._getModel(t);if(!r||!s)return null;const o=r.getLinesContent(),a=s.getLinesContent(),l=new f.a(o,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:i}).computeDiff(),u=!(l.changes.length>0)&&this._modelsAreIdentical(r,s);return{quitEarly:l.quitEarly,identical:u,changes:l.changes}}))}_modelsAreIdentical(e,t){const n=e.getLineCount();if(n!==t.getLineCount())return!1;for(let i=1;i<=n;i++){if(e.getLineContent(i)!==t.getLineContent(i))return!1}return!0}computeMoreMinimalEdits(e,t){return w(this,void 0,void 0,(function*(){const n=this._getModel(e);if(!n)return t;const i=[];let r=void 0;t=t.slice(0).sort((e,t)=>{if(e.range&&t.range)return a.a.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)});for(let{range:e,text:s,eol:o}of t){if("number"===typeof o&&(r=o),a.a.isEmpty(e)&&!s)continue;const t=n.getValueInRange(e);if(s=s.replace(/\r\n|\n|\r/g,n.eol),t===s)continue;if(Math.max(s.length,t.length)>x._diffLimit){i.push({range:e,text:s});continue}const l=Object(c.b)(t,s,!1),u=n.offsetAt(a.a.lift(e).getStartPosition());for(const e of l){const t=n.positionAt(u+e.originalStart),r=n.positionAt(u+e.originalStart+e.originalLength),o={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column}};n.getValueInRange(o.range)!==o.text&&i.push(o)}}return"number"===typeof r&&i.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),i}))}computeLinks(e){return w(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?v.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,n,i){return w(this,void 0,void 0,(function*(){const r=new I.a(!0),s=new RegExp(n,i),o=new Set;e:for(let n of e){const e=this._getModel(n);if(e)for(let n of e.words(s))if(n!==t&&isNaN(Number(n))&&(o.add(n),o.size>x._suggestionsLimit))break e}return{words:Array.from(o),duration:r.elapsed()}}))}computeWordRanges(e,t,n,i){return w(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return Object.create(null);const s=new RegExp(n,i),o=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=r.getLineWords(e,s);for(const n of t){if(!isNaN(Number(n.word)))continue;let t=o[n.word];t||(t=[],o[n.word]=t),t.push({startLineNumber:e,startColumn:n.startColumn,endLineNumber:e,endColumn:n.endColumn})}}return o}))}navigateValueSet(e,t,n,i,r){return w(this,void 0,void 0,(function*(){let s=this._getModel(e);if(!s)return null;let o=new RegExp(i,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},o);if(!l)return null;let u=s.getValueInRange(l);return M.INSTANCE.navigateValueSet(t,a,l,u,n)}))}loadForeignModule(e,t,n){let i={host:y.c(n,(e,t)=>this._host.fhr(e,t)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(i,t),Promise.resolve(y.d(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!==typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(n){return Promise.reject(n)}}}x._diffLimit=1e5,x._suggestionsLimit=1e4,"function"===typeof importScripts&&(d.b.monaco=Object(L.a)());var R=n(1988),D=n(2300),T=n(1936),E=n(1950),A=n(2039),P=n(1945),N=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},j=function(e,t){return function(n,i){t(n,i,e)}},F=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function W(e,t){let n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}let B=class extends r.a{constructor(e,t,n){super(),this._modelService=e,this._workerManager=this._register(new z(this._modelService)),this._logService=n,this._register(l.v.register("*",{provideLinks:(e,t)=>W(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(l.d.register("*",new U(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return W(this._modelService,e)&&W(this._modelService,t)}computeDiff(e,t,n,i){return this._workerManager.withWorker().then(r=>r.computeDiff(e,t,n,i))}computeMoreMinimalEdits(e,t){if(Object(E.l)(t)){if(!W(this._modelService,e))return Promise.resolve(t);const n=I.a.create(!0),r=this._workerManager.withWorker().then(n=>n.computeMoreMinimalEdits(e,t));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed())),Promise.race([r,Object(i.l)(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return W(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then(i=>i.navigateValueSet(e,t,n))}canComputeWordRanges(e){return W(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(n=>n.computeWordRanges(e,t))}};B=N([j(0,R.a),j(1,D.a),j(2,A.b)],B);class U{constructor(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return F(this,void 0,void 0,(function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const i=[];if("currentDocument"===n.wordBasedSuggestionsMode)W(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())W(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==n.wordBasedSuggestionsMode&&t.getLanguageIdentifier().id!==e.getLanguageIdentifier().id||i.push(t.uri));if(0===i.length)return;const r=u.a.getWordDefinition(e.getLanguageIdentifier().id),s=e.getWordAtPosition(t),o=s?new a.a(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):a.a.fromPositions(t),l=o.setEndPosition(t.lineNumber,t.column),c=yield this._workerManager.withWorker(),d=yield c.textualSuggest(i,null===s||void 0===s?void 0:s.word,r);return d?{duration:d.duration,suggestions:d.words.map(e=>({kind:18,label:e,insertText:e,range:{insert:l,replace:o}}))}:void 0}))}}class z extends r.a{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new i.c).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new H(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class V extends r.a{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let e=new i.c;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)Object(r.f)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let e=t.toString();this._syncedModels[e]||this._beginModelSync(t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let n in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[n]>6e4&&t.push(n)}for(const n of t)this._stopModelSync(n)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t)return;if(t.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const i=new r.b;i.add(t.onDidChangeContent(e=>{this._proxy.acceptModelChanged(n.toString(),e)})),i.add(t.onWillDispose(()=>{this._stopModelSync(n)})),i.add(Object(r.h)(()=>{this._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=i}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Object(r.f)(t)}}class ${constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class q{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class H extends r.a{constructor(e,t,n){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new o.a(n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new s.a(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new q(this)))}catch(e){Object(s.b)(e),this._worker=new $(new x(new q(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(Object(s.b)(e),this._worker=new $(new x(new q(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new V(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(Object(P.a)()):this._getProxy().then(t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t))}computeDiff(e,t,n,i){return this._withSyncedResources([e,t]).then(r=>r.computeDiff(e.toString(),t.toString(),n,i))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(n=>n.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,n){return F(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),r=n.source,s=Object(T.M)(n);return i.textualSuggest(e.map(e=>e.toString()),t,r,s)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then(n=>{let i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);let r=u.a.getWordDefinition(i.getLanguageIdentifier().id),s=r.source,o=Object(T.M)(r);return n.computeWordRanges(e.toString(),t,s,o)})}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then(i=>{let r=this._modelService.getModel(e);if(!r)return null;let s=u.a.getWordDefinition(r.getLanguageIdentifier().id),o=s.source,a=Object(T.M)(s);return i.navigateValueSet(e.toString(),t,n,o,a)})}dispose(){super.dispose(),this._disposed=!0}}},2477:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return C}));var i=n(1958),r=n(1945),s=n(1955),o=n(1951),a=n(1988),l=n(1959),u=n(1953),c=n(2130),d=n(1940);function h(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const n of e.deltas)n.data&&(t+=n.data.length)}return t}(e));let n=0;if(t[n++]=e.id,"full"===e.type)t[n++]=1,t[n++]=e.data.length,t.set(e.data,n),n+=e.data.length;else{t[n++]=2,t[n++]=e.deltas.length;for(const i of e.deltas)t[n++]=i.start,t[n++]=i.deleteCount,i.data?(t[n++]=i.data.length,t.set(i.data,n),n+=i.data.length):t[n++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return d.e()||function(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0],i=e[t+1],r=e[t+2],s=e[t+3];e[t+0]=s,e[t+1]=r,e[t+2]=i,e[t+3]=n}}(t),c.a.wrap(t)}(t)}var g=n(1933),f=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function _(e){return e&&!!e.data}function m(e){return e&&Array.isArray(e.edits)}function p(e,t,n){const i=S(e);return i?{provider:i,request:Promise.resolve(i.provideDocumentSemanticTokens(e,t,n))}:null}function S(e){const t=o.l.ordered(e);return t.length>0?t[0]:null}function C(e){const t=o.k.ordered(e);return t.length>0?t[0]:null}l.a.registerCommand("_provideDocumentSemanticTokensLegend",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return f(void 0,void 0,void 0,(function*(){const[t]=n;Object(u.b)(t instanceof s.a);const i=e.get(a.a).getModel(t);if(!i)return;const r=S(i);return r?r.getLegend():e.get(l.b).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}))})),l.a.registerCommand("_provideDocumentSemanticTokens",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return f(void 0,void 0,void 0,(function*(){const[t]=n;Object(u.b)(t instanceof s.a);const o=e.get(a.a).getModel(t);if(!o)return;const c=p(o,null,i.a.None);if(!c)return e.get(l.b).executeCommand("_provideDocumentRangeSemanticTokens",t,o.getFullModelRange());const{provider:d,request:g}=c;let f;try{f=yield g}catch(S){return void Object(r.f)(S)}if(!f||!_(f))return;const m=h({id:0,type:"full",data:f.data});return f.resultId&&d.releaseDocumentSemanticTokens(f.resultId),m}))})),l.a.registerCommand("_provideDocumentRangeSemanticTokensLegend",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return f(void 0,void 0,void 0,(function*(){const[t]=n;Object(u.b)(t instanceof s.a);const i=e.get(a.a).getModel(t);if(!i)return;const r=C(i);return r?r.getLegend():void 0}))})),l.a.registerCommand("_provideDocumentRangeSemanticTokens",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return f(void 0,void 0,void 0,(function*(){const[t,o]=n;Object(u.b)(t instanceof s.a),Object(u.b)(g.a.isIRange(o));const l=e.get(a.a).getModel(t);if(!l)return;const c=C(l);if(!c)return;let d;try{d=yield c.provideDocumentRangeSemanticTokens(l,g.a.lift(o),i.a.None)}catch(f){return void Object(r.f)(f)}return d&&_(d)?h({id:0,type:"full",data:d.data}):void 0}))}))},2794:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(1932),r=n(1931);class s{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new i.a,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Object(r.h)(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let n=null,i=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!i&&t&&(n=this.register(e,t))})),Object(r.h)(()=>{i=!0,n&&n.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const n=this._promises.get(e);return n?n.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},2820:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1987),r=n(2060),s=n(2182),o=n(2425);function a(e,t,n,a){const u=a===o.a.ROOT_FOLDER?["rootfolder-icon"]:a===o.a.FOLDER?["folder-icon"]:["file-icon"];if(n){let c;if(n.scheme===i.c.data){c=r.a.parseMetaData(n).get(r.a.META_DATA_LABEL)}else c=l(Object(r.c)(n).toLowerCase());if(a===o.a.FOLDER)u.push(c+"-name-folder-icon");else{if(c){if(u.push(c+"-name-file-icon"),c.length<=255){const e=c.split(".");for(let t=1;t<e.length;t++)u.push(e.slice(t).join(".")+"-ext-file-icon")}u.push("ext-file-icon")}const o=function(e,t,n){if(!n)return null;let o=null;if(n.scheme===i.c.data){const e=r.a.parseMetaData(n).get(r.a.META_DATA_MIME);e&&(o=t.getModeId(e))}else{const t=e.getModel(n);t&&(o=t.getModeId())}if(o&&o!==s.c)return o;return t.getModeIdByFilepathOrFirstLine(n)}(e,t,n);o&&u.push(l(o)+"-lang-file-icon")}}return u}function l(e){return e.replace(/[\11\12\14\15\40]/g,"/")}},2875:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2469),r=n(1953);function s(e,t){return new o(e,t)}class o extends i.a{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!==typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(n){return Promise.reject(n)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?r.d(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;const n=(t,n)=>e.fmr(t,n),i=(e,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};let r={};for(const e of t)r[e]=i(e,n);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}},2885:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var i=n(1971);class r{constructor(e,t,n,i,r){this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=r}}const s=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class o{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(s);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=i.a.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class a{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],n=0;for(let i=0,s=e.length;i<s;i++){let s=e[i],o=-1;if("string"===typeof s.fontStyle){o=0;let e=s.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++){switch(e[t]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4}}}let a=null;"string"===typeof s.foreground&&(a=s.foreground);let l=null;"string"===typeof s.background&&(l=s.background),t[n++]=new r(s.token||"",i,o,a,l)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort((e,t)=>{let n=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==n?n:e.index-t.index});let n=0,i="000000",r="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(r=t.background)}let s=new o;for(let o of t)s.getId(o);let l=s.getId(i),d=s.getId(r),h=new u(n,l,d),g=new c(h);for(let o=0,a=e.length;o<a;o++){let t=e[o];g.insert(t.token,t.fontStyle,s.getId(t.foreground),s.getId(t.background))}return new a(s,g)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if("undefined"===typeof n){let e=this._match(t),i=function(e){let t=e.match(l);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const l=/\b(comment|string|regex|regexp)\b/;class u{constructor(e,t,n){this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new u(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class c{constructor(e){this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));let r=this._children.get(t);return"undefined"!==typeof r?r.match(n):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);let r,s,o=e.indexOf(".");-1===o?(r=e,s=""):(r=e.substring(0,o),s=e.substring(o+1));let a=this._children.get(r);"undefined"===typeof a&&(a=new c(this._mainRule.clone()),this._children.set(r,a)),a.insert(s,t,n,i)}}function d(e){let t=[];for(let n=1,i=e.length;n<i;n++){let i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}},2900:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(2307),r=n(1931),s=n(2008),o=n(1944),a=n(1993),l=n(1988),u=n(1933),c=n(1987),d=n(1932),h=n(1966),g=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},f=function(e,t){return function(n,i){t(n,i,e)}};function _(e){return e.toString()}class m extends r.a{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Object(r.h)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const n=[...this._markersData.keys()];this._markersData.clear();const i=this.model.deltaDecorations(n,t);for(let r=0;r<i.length;r++)this._markersData.set(i[r],e[r]);return 0!==n.length||0!==i.length}getMarker(e){return this._markersData.get(e.id)}}let p=class extends r.a{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new d.a),this._markerDecorations=new Map,e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(_(e));return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(_(e));t&&this._updateDecorations(t)})}_onModelAdded(e){const t=new m(e);this._markerDecorations.set(_(e.uri),t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(_(e.uri));t&&(t.dispose(),this._markerDecorations.delete(_(e.uri))),e.uri.scheme!==c.c.inMemory&&e.uri.scheme!==c.c.internal&&e.uri.scheme!==c.c.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let n=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,n)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let n=u.a.lift(t);if(t.severity!==i.b.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=e.validateRange(n),n.isEmpty()){let t=e.getWordAtPosition(n.getStartPosition());if(t)n=new u.a(n.startLineNumber,t.startColumn,n.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===t||(n=n.endColumn>=t?new u.a(n.startLineNumber,t-1,n.endLineNumber,t):new u.a(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){let i=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);i<n.endColumn&&(n=new u.a(n.startLineNumber,i,n.endLineNumber,n.endColumn),t.startColumn=i)}return n}_createDecorationOption(e){let t,n,r,l=void 0,u=void 0;switch(e.severity){case i.b.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case i.b.Warning:t="squiggly-warning",l=Object(o.g)(a.t),n=20,r={color:Object(o.g)(h.Ib),position:s.c.Inline};break;case i.b.Info:t="squiggly-info",l=Object(o.g)(a.s),n=10;break;case i.b.Error:default:t="squiggly-error",l=Object(o.g)(a.r),n=30,r={color:Object(o.g)(h.Db),position:s.c.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(u="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(u="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:l,position:s.d.Right},minimap:r,zIndex:n,inlineClassName:u}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};p=g([f(0,l.a),f(1,i.a)],p)},3022:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n(1932),r=n(1931);class s{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}var o=n(2061),a=n(1945),l=n(2884),u=n(1936),c=n(1951),d=n(2182),h=n(2127),g=n(1970);const f=Object.prototype.hasOwnProperty;class _ extends r.a{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this._onDidChange=this._register(new i.a),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(d.a.onDidChangeLanguages(e=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=d.a.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),g.a.as(h.a.Configuration).registerOverrideIdentifiers(d.a.getLanguages().map(e=>e.id)),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let n;if(f.call(this._languages,t))n=this._languages[t];else{const e=this._getLanguageId(t);n={identifier:new c.u(t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=n}this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i="text/x-"+n,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)l.b({id:n,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)l.b({id:n,mime:i,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)l.b({id:n,mime:i,filepattern:a},this._warnOnOverwrite);if("string"===typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);u.N(t)||l.b({id:n,mime:i,firstline:t},this._warnOnOverwrite)}catch(o){Object(a.e)(o)}}e.aliases.push(n);let r=null;if("undefined"!==typeof t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const a of r)a&&0!==a.length&&e.aliases.push(a);let s=null!==r&&r.length>0;if(s&&null===r[0]);else{let t=(s?r[0]:null)||n;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!f.call(this._mimeTypesMap,e)||f.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return f.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>f.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e).filter(e=>f.call(this._languages,e)):[]}getLanguageIdentifier(e){if(e===o.b||0===e)return o.a;let t;if("string"===typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return f.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let n=l.a(e,t);return this.extractModeIds(n.join(","))}}var m=n(1950);class p{constructor(e,t){let n;this._selector=t,this.languageIdentifier=this._selector(),this._onDidChange=new i.a({onFirstListenerAdd:()=>{n=e(()=>this._evaluate())},onLastListenerRemove:()=>{n.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class S extends r.a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._onDidCreateMode=this._register(new i.a),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new i.a({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new _(!0,e)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const n=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return Object(m.h)(n,null)}getModeId(e){const t=this._registry.extractModeIds(e);return Object(m.h)(t,null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new p(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new p(this.onLanguagesMaybeChanged,()=>{const n=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(n)})}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||o.a;return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||o.a;this._instantiatedModes[e]=new s(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}},3040:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(1932),r=(n(2280),n(1931)),s=(n(2007),n(2132),n(2407)),o=n(2057);function a(e,t,n,i){if(Array.isArray(e)){let r=0;for(const s of e){const e=a(s,t,n,i);if(10===e)return e;e>r&&(r=e)}return r}if("string"===typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:r,pattern:a,scheme:l,hasAccessToAllModels:u}=e;if(!i&&!u)return 0;let c=0;if(l)if(l===t.scheme)c=10;else{if("*"!==l)return 0;c=5}if(r)if(r===n)c=10;else{if("*"!==r)return 0;c=Math.max(c,5)}if(a){let e;if(e="string"===typeof a?a:Object.assign(Object.assign({},a),{base:Object(o.d)(a.base)}),e!==t.fsPath&&!Object(s.a)(e,t.fsPath))return 0;c=10}return c}return 0}var l=n(1988);function u(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(u):!!e.exclusive)}class c{constructor(){this._clock=0,this._entries=[],this._onDidChange=new i.a}get onDidChange(){return this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(r.h)(()=>{if(n){let e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=a(t.selector,e.uri,e.getLanguageIdentifier().language,Object(l.b)(e)),u(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(c._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}}}]);
//# sourceMappingURL=vendors~console-monaco~ge~monaco~c73e0090.19ff9c09.chunk.js.map