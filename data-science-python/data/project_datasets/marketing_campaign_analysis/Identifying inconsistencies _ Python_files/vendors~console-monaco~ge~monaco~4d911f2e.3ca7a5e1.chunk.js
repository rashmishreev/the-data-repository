(this["webpackJsonpcampus-app-v2"]=this["webpackJsonpcampus-app-v2"]||[]).push([[10],{2008:function(e,t,n){"use strict";var i,r;n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return h})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(i||(i={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(r||(r={}));class s{constructor(e){this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class a{constructor(e,t){this.range=e,this.matches=t}}class l{constructor(e,t,n,i,r,s){this.identifier=e,this.range=t,this.text=n,this.forceMoveMarkers=i,this.isAutoWhitespaceEdit=r,this._isTracked=s}}class h{constructor(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}},2403:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return p}));var i=n(1937),r=n(1945),s=n(1949),a=n(1955),l=n(2404),h=n(2130),o=n(2060);function f(e){return e.toString()}class u{constructor(e,t,n,i,r,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=i,this.beforeCursorState=r,this.afterCursorState=s,this.changes=a}static create(e,t){const n=e.getAlternativeVersionId(),i=d(e);return new u(n,n,i,i,t,t,[])}append(e,t,n,i,r){t.length>0&&(this.changes=Object(l.b)(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=r}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,n){if(h.f(e,t?t.length:0,n),n+=4,t)for(const i of t)h.f(e,i.selectionStartLineNumber,n),n+=4,h.f(e,i.selectionStartColumn,n),n+=4,h.f(e,i.positionLineNumber,n),n+=4,h.f(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const i=h.c(e,t);t+=4;for(let r=0;r<i;r++){const i=h.c(e,t);t+=4;const r=h.c(e,t);t+=4;const a=h.c(e,t);t+=4;const l=h.c(e,t);t+=4,n.push(new s.a(i,r,a,l))}return t}serialize(){let e=10+u._writeSelectionsSize(this.beforeCursorState)+u._writeSelectionsSize(this.afterCursorState)+4;for(const i of this.changes)e+=i.writeSize();const t=new Uint8Array(e);let n=0;h.f(t,this.beforeVersionId,n),n+=4,h.f(t,this.afterVersionId,n),n+=4,h.g(t,this.beforeEOL,n),n+=1,h.g(t,this.afterEOL,n),n+=1,n=u._writeSelections(t,this.beforeCursorState,n),n=u._writeSelections(t,this.afterCursorState,n),h.f(t,this.changes.length,n),n+=4;for(const i of this.changes)n=i.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const i=h.c(t,n);n+=4;const r=h.c(t,n);n+=4;const s=h.d(t,n);n+=1;const a=h.d(t,n);n+=1;const o=[];n=u._readSelections(t,n,o);const f=[];n=u._readSelections(t,n,f);const c=h.c(t,n);n+=4;const d=[];for(let h=0;h<c;h++)n=l.a.read(t,n,d);return new u(i,r,s,a,o,f,d)}}class c{constructor(e,t){this.model=e,this._data=u.create(e,t)}get type(){return 0}get resource(){return a.a.isUri(this.model)?this.model:this.model.uri}get label(){return i.a("edit","Typing")}toString(){return(this._data instanceof u?this._data:u.deserialize(this._data)).changes.map(e=>e.toString()).join(", ")}matchesResource(e){return(a.a.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof u}append(e,t,n,i,r){this._data instanceof u&&this._data.append(e,t,n,i,r)}close(){this._data instanceof u&&(this._data=this._data.serialize())}open(){this._data instanceof u||(this._data=u.deserialize(this._data))}undo(){if(a.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof u&&(this._data=this._data.serialize());const e=u.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(a.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof u&&(this._data=this._data.serialize());const e=u.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof u&&(this._data=this._data.serialize()),this._data.byteLength+168}}function d(e){return"\n"===e.getEOL()?0:1}function g(e){return!!e&&(e instanceof c||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const e=f(n.resource);this._editStackElementsMap.set(e,n)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=f(e);return this._editStackElementsMap.has(t)}setModel(e){const t=f(a.a.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=f(e.uri);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).canAppend(e)}return!1}append(e,t,n,i,r){const s=f(e.uri);this._editStackElementsMap.get(s).append(e,t,n,i,r)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=f(e);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).heapSize()}return 0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${Object(o.b)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class p{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);g(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);g(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(g(t)&&t.canAppend(this._model))return t;const n=new c(this._model,e);return this._undoRedoService.pushElement(n),n}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],d(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n){const i=this._getOrCreateEditStackElement(e),r=this._model.applyEdits(t,!0),s=p._computeCursorState(n,r),a=r.map((e,t)=>({index:t,textChange:e.textChange}));return a.sort((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition),i.append(this._model,a.map(e=>e.textChange),d(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(n){return Object(r.e)(n),null}}}},2406:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(1932),r=n(1936),s=n(1933),a=n(2008),l=n(2479),h=n(2169),o=n(2404),f=n(1931);class u extends f.a{constructor(e,t,n,r,s,a,h){super(),this._onDidChangeContent=this._register(new i.a),this._BOM=t,this._mightContainNonBasicASCII=!a,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._pieceTree=new l.a(e,n,h)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let n=e+t;const i=this.getPositionAt(e),r=this.getPositionAt(n);return new s.a(i.lineNumber,i.column,r.lineNumber,r.column)}getValueInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let t=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-t}getCharacterCountInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._mightContainNonBasicASCII){let n=0;const i=e.startLineNumber,s=e.endLineNumber;for(let t=i;t<=s;t++){const a=this.getLineContent(t),l=t===i?e.startColumn-1:0,h=t===s?e.endColumn-1:a.length;for(let e=l;e<h;e++)r.E(a.charCodeAt(e))?(n+=1,e+=1):n+=1}return n+=this._getEndOfLine(t).length*(s-i),n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=r.u(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=r.I(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let i=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,l=this._mightContainNonBasicASCII,f=!0,c=[];for(let a=0;a<e.length;a++){let t=e[a];f&&t._isTracked&&(f=!1);let n=t.range;if(t.text){let e=!0;l||(e=!r.A(t.text),l=e),!i&&e&&(i=r.m(t.text)),!s&&e&&(s=r.n(t.text))}let o="",u=0,d=0,g=0;if(t.text){let e;[u,d,g,e]=Object(h.f)(t.text);const n=this.getEOL(),i="\r\n"===n?2:1;o=0===e||e===i?t.text:t.text.replace(/\r\n|\r|\n/g,n)}c[a]={sortIndex:a,identifier:t.identifier||null,range:n,rangeOffset:this.getOffsetAt(n.startLineNumber,n.startColumn),rangeLength:this.getValueLengthInRange(n),text:o,eolCount:u,firstLineLength:d,lastLineLength:g,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}c.sort(u._sortOpsAscending);let d=!1;for(let r=0,a=c.length-1;r<a;r++){let e=c[r].range.getEndPosition(),t=c[r+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");d=!0}}f&&(c=this._reduceOperations(c));let g=n||t?u._getInverseEditRanges(c):[],p=[];if(t)for(let a=0;a<c.length;a++){let e=c[a],t=g[a];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let n=t.startLineNumber;n<=t.endLineNumber;n++){let i="";n===t.startLineNumber&&(i=this.getLineContent(e.range.startLineNumber),-1!==r.u(i))||p.push({lineNumber:n,oldContent:i})}}let _=null;if(n){let e=0;_=[];for(let t=0;t<c.length;t++){const n=c[t],i=g[t],r=this.getValueInRange(n.range),s=n.rangeOffset+e;e+=n.text.length-r.length,_[t]={sortIndex:n.sortIndex,identifier:n.identifier,range:i,text:r,textChange:new o.a(n.rangeOffset,r,s,n.text)}}d||_.sort((e,t)=>e.sortIndex-t.sortIndex)}this._mightContainRTL=i,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=l;const m=this._doApplyEdits(c);let b=null;if(t&&p.length>0){p.sort((e,t)=>t.lineNumber-e.lineNumber),b=[];for(let e=0,t=p.length;e<t;e++){let t=p[e].lineNumber;if(e>0&&p[e-1].lineNumber===t)continue;let n=p[e].oldContent,i=this.getLineContent(t);0!==i.length&&i!==n&&-1===r.u(i)&&b.push(t)}}return this._onDidChangeContent.fire(),new a.a(_,m,b)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const n=e[0].range,i=e[e.length-1].range,r=new s.a(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn);let a=n.startLineNumber,l=n.startColumn;const o=[];for(let h=0,g=e.length;h<g;h++){const n=e[h],i=n.range;t=t||n.forceMoveMarkers,o.push(this.getValueInRange(new s.a(a,l,i.startLineNumber,i.startColumn))),n.text.length>0&&o.push(n.text),a=i.endLineNumber,l=i.endColumn}const f=o.join(""),[u,c,d]=Object(h.f)(f);return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:f,eolCount:u,firstLineLength:c,lastLineLength:d,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(u._sortOpsDescending);let t=[];for(let n=0;n<e.length;n++){let i=e[n];const r=i.range.startLineNumber,a=i.range.startColumn,l=i.range.endLineNumber,h=i.range.endColumn;if(r===l&&a===h&&0===i.text.length)continue;i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength);const o=new s.a(r,a,l,h);t.push({range:o,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)}static _getInverseEditRanges(e){let t=[],n=0,i=0,r=null;for(let a=0,l=e.length;a<l;a++){let l,h,o,f=e[a];if(r?r.range.endLineNumber===f.range.startLineNumber?(l=n,h=i+(f.range.startColumn-r.range.endColumn)):(l=n+(f.range.startLineNumber-r.range.endLineNumber),h=f.range.startColumn):(l=f.range.startLineNumber,h=f.range.startColumn),f.text.length>0){const e=f.eolCount+1;o=1===e?new s.a(l,h,l,h+f.firstLineLength):new s.a(l,h,l+e-1,f.lastLineLength+1)}else o=new s.a(l,h,l,h);n=o.endLineNumber,i=o.endColumn,t.push(o),r=f}return t}static _sortOpsAscending(e,t){let n=s.a.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){let n=s.a.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n}}},2479:function(e,t,n){"use strict";n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return w}));var i=n(1941),r=n(1933),s=n(2008);class a{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==l)return h(this.right);let e=this;for(;e.parent!==l&&e.parent.left!==e;)e=e.parent;return e.parent===l?l:e.parent}prev(){if(this.left!==l)return o(this.left);let e=this;for(;e.parent!==l&&e.parent.right!==e;)e=e.parent;return e.parent===l?l:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const l=new a(null,0);function h(e){for(;e.left!==l;)e=e.left;return e}function o(e){for(;e.right!==l;)e=e.right;return e}function f(e){return e===l?0:e.size_left+e.piece.length+f(e.right)}function u(e){return e===l?0:e.lf_left+e.piece.lineFeedCnt+u(e.right)}function c(){l.parent=l}function d(e,t){let n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==l&&(n.left.parent=t),n.parent=t.parent,t.parent===l?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function g(e,t){let n=t.left;t.left=n.right,n.right!==l&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===l?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function p(e,t){let n,i;if(t.left===l?(i=t,n=i.right):t.right===l?(i=t,n=i.left):(i=h(t.right),n=i.right),i===e.root)return e.root=n,n.color=0,t.detach(),c(),void(e.root.parent=l);let r,s=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,b(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,b(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==l&&(i.left.parent=i),i.right!==l&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,b(e,i)),t.detach(),n.parent.left===n){let t=f(n),i=u(n);if(t!==n.parent.size_left||i!==n.parent.lf_left){let r=t-n.parent.size_left,s=i-n.parent.lf_left;n.parent.size_left=t,n.parent.lf_left=i,m(e,n.parent,r,s)}}if(b(e,n.parent),s)c();else{for(;n!==e.root&&0===n.color;)n===n.parent.left?(r=n.parent.right,1===r.color&&(r.color=0,n.parent.color=1,d(e,n.parent),r=n.parent.right),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.right.color&&(r.left.color=0,r.color=1,g(e,r),r=n.parent.right),r.color=n.parent.color,n.parent.color=0,r.right.color=0,d(e,n.parent),n=e.root)):(r=n.parent.left,1===r.color&&(r.color=0,n.parent.color=1,g(e,n.parent),r=n.parent.left),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.left.color&&(r.right.color=0,r.color=1,d(e,r),r=n.parent.left),r.color=n.parent.color,n.parent.color=0,r.left.color=0,g(e,n.parent),n=e.root));n.color=0,c()}}function _(e,t){for(b(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&d(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,g(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&g(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,d(e,t.parent.parent))}e.root.color=0}function m(e,t,n,i){for(;t!==e.root&&t!==l;)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function b(e,t){let n=0,i=0;if(t!==e.root){if(0===n){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;n=f((t=t.parent).left)-t.size_left,i=u(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i}for(;t!==e.root&&(0!==n||0!==i);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}l.parent=l,l.left=l,l.right=l,l.color=0;var C=n(2405);function L(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class I{constructor(e,t,n,i,r){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=r}}function x(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[0],i=1;for(let r=0,s=e.length;r<s;r++){const t=e.charCodeAt(r);13===t?r+1<s&&10===e.charCodeAt(r+1)?(n[i++]=r+2,r++):n[i++]=r+1:10===t&&(n[i++]=r+1)}return t?L(n):n}function S(e,t){e.length=0,e[0]=0;let n=1,i=0,r=0,s=0,a=!0;for(let h=0,o=t.length;h<o;h++){const l=t.charCodeAt(h);13===l?h+1<o&&10===t.charCodeAt(h+1)?(s++,e[n++]=h+2,h++):(i++,e[n++]=h+1):10===l?(r++,e[n++]=h+1):a&&9!==l&&(l<32||l>126)&&(a=!1)}const l=new I(L(e),i,r,s,a);return e.length=0,l}class N{constructor(e,t,n,i,r){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=r}}class O{constructor(e,t){this.buffer=e,this.lineStarts=t}}class E{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==l&&e.iterate(e.root,e=>(e!==l&&this._pieces.push(e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class A{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,n=this._cache;for(let i=0;i<n.length;i++){let r=n[i];(null===r.node.parent||r.nodeStartOffset>=e)&&(n[i]=null,t=!0)}if(t){let e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}class w{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new O("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=l,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let i=null;for(let r=0,s=e.length;r<s;r++)if(e[r].buffer.length>0){e[r].lineStarts||(e[r].lineStarts=x(e[r].buffer));let t=new N(r+1,{line:0,column:0},{line:e[r].lineStarts.length-1,column:e[r].buffer.length-e[r].lineStarts[e[r].lineStarts.length-1]},e[r].lineStarts.length-1,e[r].buffer.length);this._buffers.push(e[r]),i=this.rbInsertRight(i,t)}this._searchCache=new A(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),n=2*t,i="",r=0,s=[];if(this.iterate(this.root,a=>{let l=this.getNodeContent(a),h=l.length;if(r<=t||r+h<n)return i+=l,r+=h,!0;let o=i.replace(/\r\n|\r|\n/g,e);return s.push(new O(o,x(o))),i=l,r=h,!0}),r>0){let t=i.replace(/\r\n|\r|\n/g,e);s.push(new O(t,x(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new E(this,e)}getOffsetAt(e,t){let n=0,i=this.root;for(;i!==l;)if(i.left!==l&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e){return n+=i.size_left,n+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1)}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,r=e;for(;t!==l;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let s=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+s.index,0===s.index){let e=r-this.getOffsetAt(n+1,1);return new i.a(n+1,e+1)}return new i.a(n+1,s.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===l){let t=r-e-this.getOffsetAt(n+1,1);return new i.a(n+1,t+1)}t=t.right}return new i.a(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),r=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,t):r}getValueInRange2(e,t){if(e.node===t.node){let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(r+e.remainder,r+t.remainder)}let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),s=i.substring(r+e.remainder,r+n.piece.length);for(n=n.next();n!==l;){let e=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){s+=e.substring(i,i+t.remainder);break}s+=e.substr(i,n.piece.length),n=n.next()}return s}getLinesContent(){let e=[],t=0,n="",i=!1;return this.iterate(this.root,r=>{if(r===l)return!0;const s=r.piece;let a=s.length;if(0===a)return!0;const h=this._buffers[s.bufferIndex].buffer,o=this._buffers[s.bufferIndex].lineStarts,f=s.start.line,u=s.end.line;let c=o[f]+s.start.column;if(i&&(10===h.charCodeAt(c)&&(c++,a--),e[t++]=n,n="",i=!1,0===a))return!0;if(f===u)return this._EOLNormalized||13!==h.charCodeAt(c+a-1)?n+=h.substr(c,a):(i=!0,n+=h.substr(c,a-1)),!0;n+=this._EOLNormalized?h.substring(c,Math.max(c,o[f+1]-this._EOLLength)):h.substring(c,o[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let i=f+1;i<u;i++)n=this._EOLNormalized?h.substring(o[i],o[i+1]-this._EOLLength):h.substring(o[i],o[i+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return this._EOLNormalized||13!==h.charCodeAt(o[u]+s.end.column-1)?n=h.substr(o[u],s.end.column):(i=!0,0===s.end.column?t--:n=h.substr(o[u],s.end.column-1)),!0}),i&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let n=this._buffers[t.piece.bufferIndex],i=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(i)}{let t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,i,s,a,l,h,o,f,u){let c,d,g,p=this._buffers[e.piece.bufferIndex],_=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,s),b=this.offsetInBuffer(e.piece.bufferIndex,a),L={line:0,column:0};t._wordSeparators?(d=p.buffer.substring(m,b),g=e=>e+m,t.reset(0)):(d=p.buffer,g=e=>e,t.reset(m));do{if(c=t.next(d),c){if(g(c.index)>=b)return f;this.positionInBuffer(e,g(c.index)-_,L);let t=this.getLineFeedCnt(e.piece.bufferIndex,s,L),a=L.line===s.line?L.column-s.column+i:L.column+1,l=a+c[0].length;if(u[f++]=Object(C.d)(new r.a(n+t,a,n+t,l),c,h),g(c.index)+c[0].length>=b)return f;if(f>=o)return f}}while(c);return f}findMatchesLineByLine(e,t,n,i){const r=[];let s=0;const a=new C.b(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===l)return[];let h=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===h)return[];let o=this.positionInBuffer(l.node,l.remainder),f=this.positionInBuffer(h.node,h.remainder);if(l.node===h.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,o,f,t,n,i,s,r),r;let u=e.startLineNumber,c=l.node;for(;c!==h.node;){let h=this.getLineFeedCnt(c.piece.bufferIndex,o,c.piece.end);if(h>=1){let l=this._buffers[c.piece.bufferIndex].lineStarts,f=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start),d=l[o.line+h],g=u===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(c,a,u,g,o,this.positionInBuffer(c,d-f),t,n,i,s,r),s>=i)return r;u+=h}let f=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){const l=this.getLineContent(u).substring(f,e.endColumn-1);return s=this._findMatchesInLine(t,a,l,e.endLineNumber,f,s,r,n,i),r}if(s=this._findMatchesInLine(t,a,this.getLineContent(u).substr(f),u,f,s,r,n,i),s>=i)return r;u++,l=this.nodeAt2(u,1),c=l.node,o=this.positionInBuffer(l.node,l.remainder)}if(u===e.endLineNumber){let l=u===e.startLineNumber?e.startColumn-1:0;const h=this.getLineContent(u).substring(l,e.endColumn-1);return s=this._findMatchesInLine(t,a,h,e.endLineNumber,l,s,r,n,i),r}let d=u===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(h.node,a,u,d,o,f,t,n,i,s,r),r}_findMatchesInLine(e,t,n,i,a,l,h,o,f){const u=e.wordSeparators;if(!o&&e.simpleSearch){const t=e.simpleSearch,o=t.length,c=n.length;let d=-o;for(;-1!==(d=n.indexOf(t,d+o));)if((!u||Object(C.e)(u,n,c,d,o))&&(h[l++]=new s.b(new r.a(i,d+1+a,i,d+1+o+a),null),l>=f))return l;return l}let c;t.reset(0);do{if(c=t.next(n),c&&(h[l++]=Object(C.d)(new r.a(i,c.index+1+a,i,c.index+1+c[0].length+a),c,o),l>=f))return l}while(c);return l}insert(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==l){let{node:n,remainder:i,nodeStartOffset:r}=this.nodeAt(e),s=n.piece,a=s.bufferIndex,l=this.positionInBuffer(n,i);if(0===n.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&r+s.length===e&&t.length<65535)return this.appendToNode(n,t),void this.computeBufferMetadata();if(r===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(r+n.piece.length>e){let e=[],r=new N(s.bufferIndex,l,s.end,this.getLineFeedCnt(s.bufferIndex,l,s.end),this.offsetInBuffer(a,s.end)-this.offsetInBuffer(a,l));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(n,i)){let e={line:r.start.line+1,column:0};r=new N(r.bufferIndex,e,r.end,this.getLineFeedCnt(r.bufferIndex,e,r.end),r.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(n,i-1)){let r=this.positionInBuffer(n,i-1);this.deleteNodeTail(n,r),t="\r"+t,0===n.piece.length&&e.push(n)}else this.deleteNodeTail(n,l)}else this.deleteNodeTail(n,l);let h=this.createNewPieces(t);r.length>0&&this.rbInsertRight(n,r);let o=n;for(let t=0;t<h.length;t++)o=this.rbInsertRight(o,h[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,n)}else{let e=this.createNewPieces(t),n=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)n=this.rbInsertRight(n,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===l)return;let n=this.nodeAt(e),i=this.nodeAt(e+t),r=n.node,s=i.node;if(r===s){let s=this.positionInBuffer(r,n.remainder),a=this.positionInBuffer(r,i.remainder);if(n.nodeStartOffset===e){if(t===r.piece.length){let e=r.next();return p(this,r),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(r,a),this._searchCache.validate(e),this.validateCRLFWithPrevNode(r),void this.computeBufferMetadata()}return n.nodeStartOffset+r.piece.length===e+t?(this.deleteNodeTail(r,s),this.validateCRLFWithNextNode(r),void this.computeBufferMetadata()):(this.shrinkNode(r,s,a),void this.computeBufferMetadata())}let a=[],h=this.positionInBuffer(r,n.remainder);this.deleteNodeTail(r,h),this._searchCache.validate(e),0===r.piece.length&&a.push(r);let o=this.positionInBuffer(s,i.remainder);this.deleteNodeHead(s,o),0===s.piece.length&&a.push(s);for(let u=r.next();u!==l&&u!==s;u=u.next())a.push(u);let f=0===r.piece.length?r.prev():r;this.deleteNodes(a),this.validateCRLFWithNextNode(f),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let i=t.piece,r={line:i.start.line+1,column:0},s=new N(i.bufferIndex,r,i.end,this.getLineFeedCnt(i.bufferIndex,r,i.end),i.length-1);t.piece=s,e+="\n",m(this,t,-1,-1),0===t.piece.length&&n.push(t)}let i=this.createNewPieces(e),r=this.rbInsertLeft(t,i[i.length-1]);for(let s=i.length-2;s>=0;s--)r=this.rbInsertLeft(r,i[s]);this.validateCRLFWithPrevNode(r),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]),r=i;for(let s=1;s<n.length;s++)r=this.rbInsertRight(r,n[s]);this.validateCRLFWithPrevNode(i)}positionInBuffer(e,t,n){let i=e.piece,r=e.piece.bufferIndex,s=this._buffers[r].lineStarts,a=s[i.start.line]+i.start.column+t,l=i.start.line,h=i.end.line,o=0,f=0,u=0;for(;l<=h&&(o=l+(h-l)/2|0,u=s[o],o!==h);)if(f=s[o+1],a<u)h=o-1;else{if(!(a>=f))break;l=o+1}return n?(n.line=o,n.column=a-u,null):{line:o,column:a-u}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;let i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;let r=i[n.line+1],s=i[n.line]+n.column;if(r>s+1)return n.line-t.line;let a=s-1;return 13===this._buffers[e].buffer.charCodeAt(a)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)p(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const n=e.charCodeAt(65534);let i;13===n||n>=55296&&n<=56319?(i=e.substring(0,65534),e=e.substring(65534)):(i=e.substring(0,65535),e=e.substring(65535));let r=x(i);t.push(new N(this._buffers.length,{line:0,column:0},{line:r.length-1,column:i.length-r[r.length-1]},r.length-1,i.length)),this._buffers.push(new O(i,r))}let n=x(e);return t.push(new N(this._buffers.length,{line:0,column:0},{line:n.length-1,column:e.length-n[n.length-1]},n.length-1,e.length)),this._buffers.push(new O(e,n)),t}let t=this._buffers[0].buffer.length;const n=x(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<n.length;e++)n[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<n.length;e++)n[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}const r=this._buffers[0].buffer.length;let s=this._buffers[0].lineStarts.length-1,a={line:s,column:r-this._buffers[0].lineStarts[s]},l=new N(0,i,a,this.getLineFeedCnt(0,i,a),r-t);return this._lastChangeBufferPos=a,[l]}getLineRawContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.root,i="",r=this._searchCache.get2(e);if(r){n=r.node;let s=this.getAccumulatedValue(n,e-r.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(r.nodeStartLineNumber+n.piece.lineFeedCnt!==e){let i=this.getAccumulatedValue(n,e-r.nodeStartLineNumber);return a.substring(l+s,l+i-t)}i=a.substring(l+s,l+n.piece.length)}else{let r=0;const s=e;for(;n!==l;)if(n.left!==l&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2),a=this.getAccumulatedValue(n,e-n.lf_left-1),l=this._buffers[n.piece.bufferIndex].buffer,h=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:r,nodeStartLineNumber:s-(e-1-n.lf_left)}),l.substring(h+i,h+a-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(n,e-n.lf_left-2),r=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=r.substring(s+t,s+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==l;){let e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let r=this.getAccumulatedValue(n,0),s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=e.substring(s,s+r-t),i}{let t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=e.substr(t,n.piece.length)}n=n.next()}return i}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==l;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){let n=e.piece,i=this.positionInBuffer(e,t),r=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(t!==r)return{index:t,remainder:0}}return{index:r,remainder:i.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,r=n.start.line+t+1;return r>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[r]-i[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,i=n.lineFeedCnt,r=this.offsetInBuffer(n.bufferIndex,n.end),s=t,a=this.offsetInBuffer(n.bufferIndex,s),l=this.getLineFeedCnt(n.bufferIndex,n.start,s),h=l-i,o=a-r,f=n.length+o;e.piece=new N(n.bufferIndex,n.start,s,l,f),m(this,e,o,h)}deleteNodeHead(e,t){const n=e.piece,i=n.lineFeedCnt,r=this.offsetInBuffer(n.bufferIndex,n.start),s=t,a=this.getLineFeedCnt(n.bufferIndex,s,n.end),l=a-i,h=r-this.offsetInBuffer(n.bufferIndex,s),o=n.length+h;e.piece=new N(n.bufferIndex,s,n.end,a,o),m(this,e,h,l)}shrinkNode(e,t,n){const i=e.piece,r=i.start,s=i.end,a=i.length,l=i.lineFeedCnt,h=t,o=this.getLineFeedCnt(i.bufferIndex,i.start,h),f=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,r);e.piece=new N(i.bufferIndex,i.start,h,o,f),m(this,e,f-a,o-l);let u=new N(i.bufferIndex,n,s,this.getLineFeedCnt(i.bufferIndex,n,s),this.offsetInBuffer(i.bufferIndex,s)-this.offsetInBuffer(i.bufferIndex,n)),c=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(c)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const r=x(t,!1);for(let u=0;u<r.length;u++)r[u]+=i;if(n){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const s=this._buffers[0].lineStarts.length-1,a={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},l=e.piece.length+t.length,h=e.piece.lineFeedCnt,o=this.getLineFeedCnt(0,e.piece.start,a),f=o-h;e.piece=new N(e.piece.bufferIndex,e.piece.start,a,o,l),this._lastChangeBufferPos=a,m(this,e,t.length,f)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let i=0;for(;t!==l;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;let n={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,i=0;for(;n!==l;)if(n.left!==l&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let r=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(r+t-1,s),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){let r=this.getAccumulatedValue(n,e-n.lf_left-2);if(r+t-1<=n.piece.length)return{node:n,remainder:r+t-1,nodeStartOffset:i};t-=n.piece.length-r;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==l;){if(n.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(n,0),i=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:i}}if(n.piece.length>=t-1){return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)}}t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"===typeof e)return 10===e.charCodeAt(0);if(e===l||0===e.piece.lineFeedCnt)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,r=n[i]+t.start.column;return i!==n.length-1&&(!(n[i+1]>r+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(r))}endWithCR(e){return"string"===typeof e?13===e.charCodeAt(e.length-1):e!==l&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n,i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new N(e.piece.bufferIndex,e.piece.start,n,a,s),m(this,e,-1,-1),0===e.piece.length&&i.push(e);let l={line:t.piece.start.line+1,column:0};const h=t.piece.length-1,o=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new N(t.piece.bufferIndex,l,t.piece.end,o,h),m(this,t,-1,-1),0===t.piece.length&&i.push(t);let f=this.createNewPieces("\r\n");this.rbInsertRight(e,f[0]);for(let u=0;u<i.length;u++)p(this,i[u])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)p(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},i=e.length-1,r=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new N(e.bufferIndex,t,e.end,r,i),m(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===l)return t(l);let n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===l)return"";let t,n=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),s=this.offsetInBuffer(i.bufferIndex,i.end);return t=n.buffer.substring(r,s),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),i=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,i)}rbInsertRight(e,t){let n=new a(t,1);if(n.left=l,n.right=l,n.parent=l,n.size_left=0,n.lf_left=0,this.root===l)this.root=n,n.color=0;else if(e.right===l)e.right=n,n.parent=e;else{let t=h(e.right);t.left=n,n.parent=t}return _(this,n),n}rbInsertLeft(e,t){let n=new a(t,1);if(n.left=l,n.right=l,n.parent=l,n.size_left=0,n.lf_left=0,this.root===l)this.root=n,n.color=0;else if(e.left===l)e.left=n,n.parent=e;else{let t=o(e.left);t.right=n,n.parent=t}return _(this,n),n}}},2791:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class i{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function r(e,t,n,i,r){let s;for(r.spacesDiff=0,r.looksLikeAlignment=!1,s=0;s<t&&s<i;s++){if(e.charCodeAt(s)!==n.charCodeAt(s))break}let a=0,l=0;for(let c=s;c<t;c++){32===e.charCodeAt(c)?a++:l++}let h=0,o=0;for(let c=s;c<i;c++){32===n.charCodeAt(c)?h++:o++}if(a>0&&l>0)return;if(h>0&&o>0)return;let f=Math.abs(l-o),u=Math.abs(a-h);if(0===f)return r.spacesDiff=u,void(u>0&&0<=h-1&&h-1<e.length&&h<n.length&&32!==n.charCodeAt(h)&&32===e.charCodeAt(h-1)&&44===e.charCodeAt(e.length-1)&&(r.looksLikeAlignment=!0));u%f!==0||(r.spacesDiff=u/f)}function s(e,t,n){const s=Math.min(e.getLineCount(),1e4);let a=0,l=0,h="",o=0;const f=[2,4,6,8,3,5,7];let u=[0,0,0,0,0,0,0,0,0],c=new i;for(let i=1;i<=s;i++){let s=e.getLineLength(i),f=e.getLineContent(i);const d=s<=65536;let g=!1,p=0,_=0,m=0;for(let t=0,n=s;t<n;t++){let n=d?f.charCodeAt(t):e.getLineCharCode(i,t);if(9===n)m++;else{if(32!==n){g=!0,p=t;break}_++}}if(!g)continue;if(m>0?a++:_>1&&l++,r(h,o,f,p,c),c.looksLikeAlignment&&(!n||t!==c.spacesDiff))continue;let b=c.spacesDiff;b<=8&&u[b]++,h=f,o=p}let d=n;a!==l&&(d=a<l);let g=t;if(d){let e=d?0:.1*s;f.forEach(t=>{let n=u[t];n>e&&(e=n,g=t)}),4===g&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(g=2)}return{insertSpaces:d,tabSize:g}}},2792:function(e,t,n){"use strict";function i(e){return(1&e.metadata)>>>0}function r(e,t){e.metadata=254&e.metadata|t<<0}function s(e){return(2&e.metadata)>>>1===1}function a(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function l(e){return(4&e.metadata)>>>2===1}function h(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function o(e){return(8&e.metadata)>>>3===1}function f(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function u(e,t){e.metadata=207&e.metadata|t<<4}function c(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return N}));class d{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,r(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,h(this,!1),u(this,1),f(this,!1),c(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,a(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;let t=this.options.className;h(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),u(this,this.options.stickiness),f(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),c(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const g=new d(null,0,0);g.parent=g,g.left=g,g.right=g,r(g,0);class p{constructor(){this.root=g,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,r){return this.root===g?[]:function(e,t,n,i,r,h){let o=e.root,f=0,u=0,c=0,d=0,p=[],_=0;for(;o!==g;)if(s(o))a(o.left,!1),a(o.right,!1),o===o.parent.right&&(f-=o.parent.delta),o=o.parent;else{if(!s(o.left)){if(u=f+o.maxEnd,u<t){a(o,!0);continue}if(o.left!==g){o=o.left;continue}}if(c=f+o.start,c>n)a(o,!0);else{if(d=f+o.end,d>=t){o.setCachedOffsets(c,d,h);let e=!0;i&&o.ownerId&&o.ownerId!==i&&(e=!1),r&&l(o)&&(e=!1),e&&(p[_++]=o)}a(o,!0),o.right===g||s(o.right)||(f+=o.delta,o=o.right)}}return a(e.root,!1),p}(this,e,t,n,i,r)}search(e,t,n){return this.root===g?[]:function(e,t,n,i){let r=e.root,h=0,o=0,f=0,u=[],c=0;for(;r!==g;){if(s(r)){a(r.left,!1),a(r.right,!1),r===r.parent.right&&(h-=r.parent.delta),r=r.parent;continue}if(r.left!==g&&!s(r.left)){r=r.left;continue}o=h+r.start,f=h+r.end,r.setCachedOffsets(o,f,i);let e=!0;t&&r.ownerId&&r.ownerId!==t&&(e=!1),n&&l(r)&&(e=!1),e&&(u[c++]=r),a(r,!0),r.right===g||s(r.right)||(h+=r.delta,r=r.right)}return a(e.root,!1),u}(this,e,t,n)}collectNodesFromOwner(e){return function(e,t){let n=e.root,i=[],r=0;for(;n!==g;)s(n)?(a(n.left,!1),a(n.right,!1),n=n.parent):n.left===g||s(n.left)?(n.ownerId===t&&(i[r++]=n),a(n,!0),n.right===g||s(n.right)||(n=n.right)):n=n.left;return a(e.root,!1),i}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,n=[],i=0;for(;t!==g;)s(t)?(a(t.left,!1),a(t.right,!1),t=t.parent):t.left===g||s(t.left)?t.right===g||s(t.right)?(n[i++]=t,a(t,!0)):t=t.right:t=t.left;return a(e.root,!1),n}(this)}insert(e){b(this,e),this._normalizeDeltaIfNecessary()}delete(e){C(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let i=0;for(;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;const r=n.start+i,s=n.end+i;n.setCachedOffsets(r,s,t)}acceptReplace(e,t,n,i){const r=function(e,t,n){let i=e.root,r=0,l=0,h=0,o=0,f=[],u=0;for(;i!==g;)if(s(i))a(i.left,!1),a(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!s(i.left)){if(l=r+i.maxEnd,l<t){a(i,!0);continue}if(i.left!==g){i=i.left;continue}}h=r+i.start,h>n?a(i,!0):(o=r+i.end,o>=t&&(i.setCachedOffsets(h,o,0),f[u++]=i),a(i,!0),i.right===g||s(i.right)||(r+=i.delta,i=i.right))}return a(e.root,!1),f}(this,e,e+t);for(let s=0,a=r.length;s<a;s++){C(this,r[s])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){let r=e.root,l=0,h=0,o=0;const f=i-(n-t);for(;r!==g;)if(s(r))a(r.left,!1),a(r.right,!1),r===r.parent.right&&(l-=r.parent.delta),N(r),r=r.parent;else{if(!s(r.left)){if(h=l+r.maxEnd,h<t){a(r,!0);continue}if(r.left!==g){r=r.left;continue}}o=l+r.start,o>n?(r.start+=f,r.end+=f,r.delta+=f,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0),a(r,!0)):(a(r,!0),r.right===g||s(r.right)||(l+=r.delta,r=r.right))}a(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let s=0,a=r.length;s<a;s++){const a=r[s];a.start=a.cachedAbsoluteStart,a.end=a.cachedAbsoluteEnd,m(a,e,e+t,n,i),a.maxEnd=a.end,b(this,a)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,n=0;for(;t!==g;)t.left===g||s(t.left)?t.right===g||s(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,N(t),a(t,!0),a(t.left,!1),a(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;a(e.root,!1)}(this))}}function _(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function m(e,t,n,i,r){const s=function(e){return(48&e.metadata)>>>4}(e),a=0===s||2===s,l=1===s||2===s,h=n-t,o=i,f=Math.min(h,o),u=e.start;let c=!1;const d=e.end;let g=!1;t<=u&&d<=n&&function(e){return(64&e.metadata)>>>6===1}(e)&&(e.start=t,c=!0,e.end=t,g=!0);{const e=r?1:h>0?2:0;!c&&_(u,a,t,e)&&(c=!0),!g&&_(d,l,t,e)&&(g=!0)}if(f>0&&!r){const e=h>o?2:0;!c&&_(u,a,t+f,e)&&(c=!0),!g&&_(d,l,t+f,e)&&(g=!0)}{const i=r?1:0;!c&&_(u,a,n,i)&&(e.start=t+o,c=!0),!g&&_(d,l,n,i)&&(e.end=t+o,g=!0)}const p=o-h;c||(e.start=Math.max(0,u+p)),g||(e.end=Math.max(0,d+p)),e.start>e.end&&(e.end=e.start)}function b(e,t){if(e.root===g)return t.parent=g,t.left=g,t.right=g,r(t,0),e.root=t,e.root;!function(e,t){let n=0,i=e.root;const s=t.start,a=t.end;for(;;){if(E(s,a,i.start+n,i.end+n)<0){if(i.left===g){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===g){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=g,t.right=g,r(t,1)}(e,t),O(t.parent);let n=t;for(;n!==e.root&&1===i(n.parent);)if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;1===i(t)?(r(n.parent,0),r(t,0),r(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,I(e,n)),r(n.parent,0),r(n.parent.parent,1),x(e,n.parent.parent))}else{const t=n.parent.parent.left;1===i(t)?(r(n.parent,0),r(t,0),r(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,x(e,n)),r(n.parent,0),r(n.parent.parent,1),I(e,n.parent.parent))}return r(e.root,0),t}function C(e,t){let n,s;if(t.left===g?(n=t.right,s=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===g?(n=t.left,s=t):(s=function(e){for(;e.left!==g;)e=e.left;return e}(t.right),n=s.right,n.start+=s.delta,n.end+=s.delta,n.delta+=s.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),s.start+=t.delta,s.end+=t.delta,s.delta=t.delta,(s.delta<-1073741824||s.delta>1073741824)&&(e.requestNormalizeDelta=!0)),s===e.root)return e.root=n,r(n,0),t.detach(),L(),N(n),void(e.root.parent=g);let a,l=1===i(s);if(s===s.parent.left?s.parent.left=n:s.parent.right=n,s===t?n.parent=s.parent:(s.parent===t?n.parent=s:n.parent=s.parent,s.left=t.left,s.right=t.right,s.parent=t.parent,r(s,i(t)),t===e.root?e.root=s:t===t.parent.left?t.parent.left=s:t.parent.right=s,s.left!==g&&(s.left.parent=s),s.right!==g&&(s.right.parent=s)),t.detach(),l)return O(n.parent),s!==t&&(O(s),O(s.parent)),void L();for(O(n),O(n.parent),s!==t&&(O(s),O(s.parent));n!==e.root&&0===i(n);)n===n.parent.left?(a=n.parent.right,1===i(a)&&(r(a,0),r(n.parent,1),I(e,n.parent),a=n.parent.right),0===i(a.left)&&0===i(a.right)?(r(a,1),n=n.parent):(0===i(a.right)&&(r(a.left,0),r(a,1),x(e,a),a=n.parent.right),r(a,i(n.parent)),r(n.parent,0),r(a.right,0),I(e,n.parent),n=e.root)):(a=n.parent.left,1===i(a)&&(r(a,0),r(n.parent,1),x(e,n.parent),a=n.parent.left),0===i(a.left)&&0===i(a.right)?(r(a,1),n=n.parent):(0===i(a.left)&&(r(a.right,0),r(a,1),I(e,a),a=n.parent.left),r(a,i(n.parent)),r(n.parent,0),r(a.left,0),x(e,n.parent),n=e.root));r(n,0),L()}function L(){g.parent=g,g.delta=0,g.start=0,g.end=0}function I(e,t){const n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==g&&(n.left.parent=t),n.parent=t.parent,t.parent===g?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,N(t),N(n)}function x(e,t){const n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==g&&(n.right.parent=t),n.parent=t.parent,t.parent===g?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,N(t),N(n)}function S(e){let t=e.end;if(e.left!==g){const n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==g){const n=e.right.maxEnd+e.delta;n>t&&(t=n)}return t}function N(e){e.maxEnd=S(e)}function O(e){for(;e!==g;){const t=S(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function E(e,t,n,i){return e===n?t-i:e-n}},2793:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1936),r=n(2479),s=n(2406);class a{constructor(e,t,n,i,r,s,a,l,h){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=r,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=h}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let s=0,a=n.length;s<a;s++){let e=n[s].buffer.replace(/\r\n|\r|\n/g,t),i=Object(r.d)(e);n[s]=new r.b(e,i)}const i=new s.a(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}class l{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&i.S(e)&&(this.BOM=i.b,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Object(r.c)(this._tmpLineStarts,e);this.chunks.push(new r.b(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=i.m(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=i.n(e))}finish(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._finish(),new a(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=Object(r.d)(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}},2878:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1936),r=n(1941),s=n(2433);class a{constructor(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const n of t)this._acceptDeleteRange(n.range),this._acceptInsertText(new r.a(n.range.startLineNumber,n.range.startColumn),n.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,n=new Uint32Array(t);for(let i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new s.a(n)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let n=Object(i.Q)(t);if(1===n.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);let r=new Uint32Array(n.length-1);for(let i=1;i<n.length;i++)this._lines.splice(e.lineNumber+i-1,0,n[i]),r[i-1]=n[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}}}]);
//# sourceMappingURL=vendors~console-monaco~ge~monaco~4d911f2e.3ca7a5e1.chunk.js.map