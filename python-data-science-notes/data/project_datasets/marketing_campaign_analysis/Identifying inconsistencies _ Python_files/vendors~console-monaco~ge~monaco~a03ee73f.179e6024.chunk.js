(this["webpackJsonpcampus-app-v2"]=this["webpackJsonpcampus-app-v2"]||[]).push([[21],{2012:function(t,e,i){"use strict";i.d(e,"b",(function(){return m})),i.d(e,"a",(function(){return _}));var o=i(1974),n=i(1932),s=i(1931),r=i(1940);class a{constructor(t,e){this.chr=t,this.type=e,this.width=0}fulfill(t){this.width=t}}class l{constructor(t,e){this._bareFontInfo=t,this._requests=e,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const e=document.createElement("div");e.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),e.style.fontWeight=this._bareFontInfo.fontWeight,e.style.fontSize=this._bareFontInfo.fontSize+"px",e.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,e.style.lineHeight=this._bareFontInfo.lineHeight+"px",e.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(e);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);const o=document.createElement("div");o.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",t.appendChild(o);const n=[];for(const s of this._requests){let t;0===s.type&&(t=e),2===s.type&&(t=i),1===s.type&&(t=o),t.appendChild(document.createElement("br"));const r=document.createElement("span");l._render(r,s),t.appendChild(r),n.push(r)}this._container=t,this._testElements=n}static _render(t,e){if(" "===e.chr){let e="\xa0";for(let t=0;t<8;t++)e+=e;t.innerText=e}else{let i=e.chr;for(let t=0;t<8;t++)i+=i;t.textContent=i}}_readFromDomElements(){for(let t=0,e=this._requests.length;t<e;t++){const e=this._requests[t],i=this._testElements[t];e.fulfill(i.offsetWidth/256)}}}var c=i(2411),u=i(2274),h=i(1967),d=i(2276);class p{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(t){const e=t.getId();return!!this._values[e]}get(t){const e=t.getId();return this._values[e]}put(t,e){const i=t.getId();this._keys[i]=t,this._values[i]=e}remove(t){const e=t.getId();delete this._keys[e],delete this._values[e]}getValues(){return Object.keys(this._keys).map(t=>this._values[t])}}function m(){g.INSTANCE.clearCache()}class g extends s.a{constructor(){super(),this._onDidChange=this._register(new n.a),this.onDidChange=this._onDidChange.event,this._cache=new p,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new p,this._onDidChange.fire()}_writeToCache(t,e){this._cache.put(t,e),e.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const t=this._cache.getValues();let e=!1;for(const i of t)i.isTrusted||(e=!0,this._cache.remove(i));e&&this._onDidChange.fire()}readConfiguration(t){if(!this._cache.has(t)){let e=g._actualReadConfiguration(t);(e.typicalHalfwidthCharacterWidth<=2||e.typicalFullwidthCharacterWidth<=2||e.spaceWidth<=2||e.maxDigitWidth<=2)&&(e=new d.b({zoomLevel:o.d(),pixelRatio:o.a(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:e.isMonospace,typicalHalfwidthCharacterWidth:Math.max(e.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(e.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:e.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(e.spaceWidth,5),middotWidth:Math.max(e.middotWidth,5),wsmiddotWidth:Math.max(e.wsmiddotWidth,5),maxDigitWidth:Math.max(e.maxDigitWidth,5)},!1)),this._writeToCache(t,e)}return this._cache.get(t)}static createRequest(t,e,i,o){const n=new a(t,e);return i.push(n),o&&o.push(n),n}static _actualReadConfiguration(t){const e=[],i=[],n=this.createRequest("n",0,e,i),s=this.createRequest("\uff4d",0,e,null),r=this.createRequest(" ",0,e,i),a=this.createRequest("0",0,e,i),c=this.createRequest("1",0,e,i),u=this.createRequest("2",0,e,i),p=this.createRequest("3",0,e,i),m=this.createRequest("4",0,e,i),g=this.createRequest("5",0,e,i),_=this.createRequest("6",0,e,i),f=this.createRequest("7",0,e,i),C=this.createRequest("8",0,e,i),S=this.createRequest("9",0,e,i),v=this.createRequest("\u2192",0,e,i),w=this.createRequest("\uffeb",0,e,null),b=this.createRequest("\xb7",0,e,i),x=this.createRequest(String.fromCharCode(11825),0,e,null);this.createRequest("|",0,e,i),this.createRequest("/",0,e,i),this.createRequest("-",0,e,i),this.createRequest("_",0,e,i),this.createRequest("i",0,e,i),this.createRequest("l",0,e,i),this.createRequest("m",0,e,i),this.createRequest("|",1,e,i),this.createRequest("_",1,e,i),this.createRequest("i",1,e,i),this.createRequest("l",1,e,i),this.createRequest("m",1,e,i),this.createRequest("n",1,e,i),this.createRequest("|",2,e,i),this.createRequest("_",2,e,i),this.createRequest("i",2,e,i),this.createRequest("l",2,e,i),this.createRequest("m",2,e,i),this.createRequest("n",2,e,i),function(t,e){new l(t,e).read()}(t,e);const y=Math.max(a.width,c.width,u.width,p.width,m.width,g.width,_.width,f.width,C.width,S.width);let E=t.fontFeatureSettings===h.e.OFF;const T=i[0].width;for(let o=1,l=i.length;E&&o<l;o++){const t=T-i[o].width;if(t<-.001||t>.001){E=!1;break}}let M=!0;E&&w.width!==T&&(M=!1),w.width>v.width&&(M=!1);const A=o.b()>2e3;return new d.b({zoomLevel:o.d(),pixelRatio:o.a(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:M,spaceWidth:r.width,middotWidth:b.width,wsmiddotWidth:x.width,maxDigitWidth:y},A)}}g.INSTANCE=new g;class _ extends u.a{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;super(t,e),this.accessibilityService=n,this._elementSizeObserver=this._register(new c.a(i,e.dimension,()=>this._recomputeOptions())),this._register(g.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(o.l(t=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(t,e){t.style.fontFamily=e.getMassagedFontFamily(),t.style.fontWeight=e.fontWeight,t.style.fontSize=e.fontSize+"px",t.style.fontFeatureSettings=e.fontFeatureSettings,t.style.lineHeight=e.lineHeight+"px",t.style.letterSpacing=e.letterSpacing+"px"}static applyFontInfo(t,e){t.setFontFamily(e.getMassagedFontFamily()),t.setFontWeight(e.fontWeight),t.setFontSize(e.fontSize),t.setFontFeatureSettings(e.fontFeatureSettings),t.setLineHeight(e.lineHeight),t.setLetterSpacing(e.letterSpacing)}observeReferenceElement(t){this._elementSizeObserver.observe(t)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let t="";return o.h||o.k||(t+="no-user-select "),o.h&&(t+="no-minimap-shadow "),r.f&&(t+="mac "),t}_getEnvConfiguration(){return{extraEditorClassName:_._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:o.j||o.g,pixelRatio:o.a(),zoomLevel:o.d(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(t){return g.INSTANCE.readConfiguration(t)}}},2171:function(t,e,i){"use strict";i.r(e),i.d(e,"CoreEditorCommand",(function(){return S})),i.d(e,"EditorScroll_",(function(){return v})),i.d(e,"RevealLine_",(function(){return w})),i.d(e,"CoreNavigationCommands",(function(){return b})),i.d(e,"CoreEditingCommands",(function(){return M}));var o=i(1937),n=i(1974),s=i(1953),r=i(2006),a=i(1952),l=i(1975),c=i(2796),u=i(1968),h=i(2284),d=i(2797),p=i(2286),m=i(1941),g=i(1933),_=i(1964),f=i(1948),C=i(2164);class S extends a.c{runEditorCommand(t,e,i){const o=e._getViewModel();o&&this.runCoreEditorCommand(o,i||{})}}var v,w,b;!function(t){t.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(t){if(!s.i(t))return!1;const e=t;return!!s.j(e.to)&&(!(!s.k(e.by)&&!s.j(e.by))&&(!(!s.k(e.value)&&!s.h(e.value))&&!(!s.k(e.revealCursor)&&!s.f(e.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},t.RawDirection={Up:"up",Down:"down"},t.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},t.parse=function(e){let i,o;switch(e.to){case t.RawDirection.Up:i=1;break;case t.RawDirection.Down:i=2;break;default:return null}switch(e.by){case t.RawUnit.Line:o=1;break;case t.RawUnit.WrappedLine:o=2;break;case t.RawUnit.Page:o=3;break;case t.RawUnit.HalfPage:o=4;break;default:o=2}return{direction:i,unit:o,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}}}(v||(v={})),function(t){t.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(t){if(!s.i(t))return!1;const e=t;return!(!s.h(e.lineNumber)&&!s.j(e.lineNumber))&&!(!s.k(e.at)&&!s.j(e.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},t.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(w||(w={}));class x{constructor(t){t.addImplementation(1e4,"code-editor",(t,e)=>{const i=t.get(l.a).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(t,i,e)}),t.addImplementation(1e3,"generic-dom-input-textarea",(t,e)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),t.addImplementation(0,"generic-dom",(t,e)=>{const i=t.get(l.a).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(t,i,e))})}_runEditorCommand(t,e,i){const o=this.runEditorCommand(t,e,i);return o||!0}}!function(t){class e extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,[d.b.moveTo(t,t.getPrimaryCursorState(),this._inSelectionMode,e.position,e.viewPosition)]),t.revealPrimaryCursor(e.source,!0)}}t.MoveTo=Object(a.j)(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),t.MoveToSelect=Object(a.j)(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends S{runCoreEditorCommand(t,e){t.model.pushStackElement();const i=this._getColumnSelectResult(t,t.getPrimaryCursorState(),t.getCursorColumnSelectData(),e);t.setCursorStates(e.source,3,i.viewStates.map(t=>u.d.fromViewState(t))),t.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?t.revealTopMostCursor(e.source):t.revealBottomMostCursor(e.source)}}t.ColumnSelect=Object(a.j)(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(t,e,i,o){const n=t.model.validatePosition(o.position),s=t.coordinatesConverter.validateViewPosition(new m.a(o.viewPosition.lineNumber,o.viewPosition.column),n);let r=o.doColumnSelect?i.fromViewLineNumber:s.lineNumber,a=o.doColumnSelect?i.fromViewVisualColumn:o.mouseColumn-1;return c.a.columnSelect(t.cursorConfig,t,r,a,s.lineNumber,o.mouseColumn-1)}}),t.CursorColumnSelectLeft=Object(a.j)(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(t,e,i,o){return c.a.columnSelectLeft(t.cursorConfig,t,i)}}),t.CursorColumnSelectRight=Object(a.j)(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(t,e,i,o){return c.a.columnSelectRight(t.cursorConfig,t,i)}});class s extends i{constructor(t){super(t),this._isPaged=t.isPaged}_getColumnSelectResult(t,e,i,o){return c.a.columnSelectUp(t.cursorConfig,t,i,this._isPaged)}}t.CursorColumnSelectUp=Object(a.j)(new s({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3600,linux:{primary:0}}})),t.CursorColumnSelectPageUp=Object(a.j)(new s({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3595,linux:{primary:0}}}));class l extends i{constructor(t){super(t),this._isPaged=t.isPaged}_getColumnSelectResult(t,e,i,o){return c.a.columnSelectDown(t.cursorConfig,t,i,this._isPaged)}}t.CursorColumnSelectDown=Object(a.j)(new l({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3602,linux:{primary:0}}})),t.CursorColumnSelectPageDown=Object(a.j)(new l({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3596,linux:{primary:0}}}));class h extends S{constructor(){super({id:"cursorMove",precondition:void 0,description:d.a.description})}runCoreEditorCommand(t,e){const i=d.a.parse(e);i&&this._runCursorMove(t,e.source,i)}_runCursorMove(t,e,i){t.model.pushStackElement(),t.setCursorStates(e,3,h._move(t,t.getCursorStates(),i)),t.revealPrimaryCursor(e,!0)}static _move(t,e,i){const o=i.select,n=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return d.b.simpleMove(t,e,i.direction,o,n,i.unit);case 11:case 13:case 12:case 14:return d.b.viewportMove(t,e,i.direction,o,n);default:return null}}}t.CursorMoveImpl=h,t.CursorMove=Object(a.j)(new h);class p extends S{constructor(t){super(t),this._staticArgs=t.args}runCoreEditorCommand(t,e){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.cursorConfig.pageSize}),t.model.pushStackElement(),t.setCursorStates(e.source,3,d.b.simpleMove(t,t.getCursorStates(),i.direction,i.select,i.value,i.unit)),t.revealPrimaryCursor(e.source,!0)}}t.CursorLeft=Object(a.j)(new p({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),t.CursorLeftSelect=Object(a.j)(new p({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1039}})),t.CursorRight=Object(a.j)(new p({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),t.CursorRightSelect=Object(a.j)(new p({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1041}})),t.CursorUp=Object(a.j)(new p({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),t.CursorUpSelect=Object(a.j)(new p({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),t.CursorPageUp=Object(a.j)(new p({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:11}})),t.CursorPageUpSelect=Object(a.j)(new p({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1035}})),t.CursorDown=Object(a.j)(new p({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),t.CursorDownSelect=Object(a.j)(new p({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),t.CursorPageDown=Object(a.j)(new p({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:12}})),t.CursorPageDownSelect=Object(a.j)(new p({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1036}})),t.CreateCursor=Object(a.j)(new class extends S{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(t,e){let i;i=e.wholeLine?d.b.line(t,t.getPrimaryCursorState(),!1,e.position,e.viewPosition):d.b.moveTo(t,t.getPrimaryCursorState(),!1,e.position,e.viewPosition);const o=t.getCursorStates();if(o.length>1){const n=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null;for(let i=0,r=o.length;i<r;i++){const r=o[i];if((!n||r.modelState.selection.containsPosition(n))&&(!s||r.viewState.selection.containsPosition(s)))return o.splice(i,1),t.model.pushStackElement(),void t.setCursorStates(e.source,3,o)}}o.push(i),t.model.pushStackElement(),t.setCursorStates(e.source,3,o)}}),t.LastCursorMoveToSelect=Object(a.j)(new class extends S{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(t,e){const i=t.getLastAddedCursorIndex(),o=t.getCursorStates(),n=o.slice(0);n[i]=d.b.moveTo(t,o[i],!0,e.position,e.viewPosition),t.model.pushStackElement(),t.setCursorStates(e.source,3,n)}});class f extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,d.b.moveToBeginningOfLine(t,t.getCursorStates(),this._inSelectionMode)),t.revealPrimaryCursor(e.source,!0)}}t.CursorHome=Object(a.j)(new f({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),t.CursorHomeSelect=Object(a.j)(new f({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class C extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,this._exec(t.getCursorStates())),t.revealPrimaryCursor(e.source,!0)}_exec(t){const e=[];for(let i=0,o=t.length;i<o;i++){const o=t[i],n=o.modelState.position.lineNumber;e[i]=u.d.fromModelState(o.modelState.move(this._inSelectionMode,n,1,0))}return e}}t.CursorLineStart=Object(a.j)(new C({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:0,mac:{primary:287}}})),t.CursorLineStartSelect=Object(a.j)(new C({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:0,mac:{primary:1311}}}));class b extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,d.b.moveToEndOfLine(t,t.getCursorStates(),this._inSelectionMode,e.sticky||!1)),t.revealPrimaryCursor(e.source,!0)}}t.CursorEnd=Object(a.j)(new b({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:_.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:o.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),t.CursorEndSelect=Object(a.j)(new b({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:_.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:o.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class y extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,this._exec(t,t.getCursorStates())),t.revealPrimaryCursor(e.source,!0)}_exec(t,e){const i=[];for(let o=0,n=e.length;o<n;o++){const n=e[o],s=n.modelState.position.lineNumber,r=t.model.getLineMaxColumn(s);i[o]=u.d.fromModelState(n.modelState.move(this._inSelectionMode,s,r,0))}return i}}t.CursorLineEnd=Object(a.j)(new y({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:0,mac:{primary:291}}})),t.CursorLineEndSelect=Object(a.j)(new y({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:0,mac:{primary:1315}}}));class E extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,d.b.moveToBeginningOfBuffer(t,t.getCursorStates(),this._inSelectionMode)),t.revealPrimaryCursor(e.source,!0)}}t.CursorTop=Object(a.j)(new E({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2062,mac:{primary:2064}}})),t.CursorTopSelect=Object(a.j)(new E({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3086,mac:{primary:3088}}}));class T extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,d.b.moveToEndOfBuffer(t,t.getCursorStates(),this._inSelectionMode)),t.revealPrimaryCursor(e.source,!0)}}t.CursorBottom=Object(a.j)(new T({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2061,mac:{primary:2066}}})),t.CursorBottomSelect=Object(a.j)(new T({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:3085,mac:{primary:3090}}}));class M extends S{constructor(){super({id:"editorScroll",precondition:void 0,description:v.description})}runCoreEditorCommand(t,e){const i=v.parse(e);i&&this._runEditorScroll(t,e.source,i)}_runEditorScroll(t,e,i){const o=this._computeDesiredScrollTop(t,i);if(i.revealCursor){const n=t.getCompletelyVisibleViewRangeAtScrollTop(o);t.setCursorStates(e,3,[d.b.findPositionInViewportIfOutside(t,t.getPrimaryCursorState(),n,i.select)])}t.setScrollTop(o,0)}_computeDesiredScrollTop(t,e){if(1===e.unit){const i=t.getCompletelyVisibleViewRange(),o=t.coordinatesConverter.convertViewRangeToModelRange(i);let n;n=1===e.direction?Math.max(1,o.startLineNumber-e.value):Math.min(t.model.getLineCount(),o.startLineNumber+e.value);const s=t.coordinatesConverter.convertModelPositionToViewPosition(new m.a(n,1));return t.getVerticalOffsetForLineNumber(s.lineNumber)}let i;i=3===e.unit?t.cursorConfig.pageSize*e.value:4===e.unit?Math.round(t.cursorConfig.pageSize/2)*e.value:e.value;const o=(1===e.direction?-1:1)*i;return t.getScrollTop()+o*t.cursorConfig.lineHeight}}t.EditorScrollImpl=M,t.EditorScroll=Object(a.j)(new M),t.ScrollLineUp=Object(a.j)(new class extends S{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(e,i){t.EditorScroll._runEditorScroll(e,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),t.ScrollPageUp=Object(a.j)(new class extends S{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(e,i){t.EditorScroll._runEditorScroll(e,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),t.ScrollLineDown=Object(a.j)(new class extends S{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(e,i){t.EditorScroll._runEditorScroll(e,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),t.ScrollPageDown=Object(a.j)(new class extends S{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(e,i){t.EditorScroll._runEditorScroll(e,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class A extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,[d.b.word(t,t.getPrimaryCursorState(),this._inSelectionMode,e.position)]),t.revealPrimaryCursor(e.source,!0)}}t.WordSelect=Object(a.j)(new A({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),t.WordSelectDrag=Object(a.j)(new A({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),t.LastCursorWordSelect=Object(a.j)(new class extends S{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(t,e){const i=t.getLastAddedCursorIndex(),o=t.getCursorStates(),n=o.slice(0),s=o[i];n[i]=d.b.word(t,s,s.modelState.hasSelection(),e.position),t.model.pushStackElement(),t.setCursorStates(e.source,3,n)}});class O extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,[d.b.line(t,t.getPrimaryCursorState(),this._inSelectionMode,e.position,e.viewPosition)]),t.revealPrimaryCursor(e.source,!1)}}t.LineSelect=Object(a.j)(new O({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),t.LineSelectDrag=Object(a.j)(new O({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class D extends S{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode}runCoreEditorCommand(t,e){const i=t.getLastAddedCursorIndex(),o=t.getCursorStates(),n=o.slice(0);n[i]=d.b.line(t,o[i],this._inSelectionMode,e.position,e.viewPosition),t.model.pushStackElement(),t.setCursorStates(e.source,3,n)}}t.LastCursorLineSelect=Object(a.j)(new D({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),t.LastCursorLineSelectDrag=Object(a.j)(new D({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),t.ExpandLineSelection=Object(a.j)(new class extends S{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:2090}})}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,d.b.expandLineSelection(t,t.getCursorStates())),t.revealPrimaryCursor(e.source,!0)}}),t.CancelSelection=Object(a.j)(new class extends S{constructor(){super({id:"cancelSelection",precondition:_.a.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,[d.b.cancelSelection(t,t.getPrimaryCursorState())]),t.revealPrimaryCursor(e.source,!0)}}),t.RemoveSecondaryCursors=Object(a.j)(new class extends S{constructor(){super({id:"removeSecondaryCursors",precondition:_.a.hasMultipleSelections,kbOpts:{weight:1,kbExpr:_.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,[t.getPrimaryCursorState()]),t.revealPrimaryCursor(e.source,!0),Object(r.c)(o.a("removedCursor","Removed secondary cursors"))}}),t.RevealLine=Object(a.j)(new class extends S{constructor(){super({id:"revealLine",precondition:void 0,description:w.description})}runCoreEditorCommand(t,e){const i=e,o=i.lineNumber||0;let n="number"===typeof o?o+1:parseInt(o)+1;n<1&&(n=1);const s=t.model.getLineCount();n>s&&(n=s);const r=new g.a(n,1,n,t.model.getLineMaxColumn(n));let a=0;if(i.at)switch(i.at){case w.RawAtArgument.Top:a=3;break;case w.RawAtArgument.Center:a=1;break;case w.RawAtArgument.Bottom:a=4}const l=t.coordinatesConverter.convertModelRangeToViewRange(r);t.revealRange(e.source,!1,l,a,0)}}),t.SelectAll=new class extends x{constructor(){super(a.g)}runDOMCommand(){n.g&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(t,e,i){const o=e._getViewModel();o&&this.runCoreEditorCommand(o,i)}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates("keyboard",3,[d.b.selectAll(t,t.getPrimaryCursorState())])}},t.SetSelection=Object(a.j)(new class extends S{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(t,e){t.model.pushStackElement(),t.setCursorStates(e.source,3,[u.d.fromModelSelection(e.selection)])}})}(b||(b={}));const y=f.a.and(_.a.textInputFocus,_.a.columnSelection);function E(t,e){C.a.registerKeybindingRule({id:t,primary:e,when:y,weight:1})}function T(t){return t.register(),t}var M;E(b.CursorColumnSelectLeft.id,1039),E(b.CursorColumnSelectRight.id,1041),E(b.CursorColumnSelectUp.id,1040),E(b.CursorColumnSelectPageUp.id,1035),E(b.CursorColumnSelectDown.id,1042),E(b.CursorColumnSelectPageDown.id,1036),function(t){class e extends a.c{runEditorCommand(t,e,i){const o=e._getViewModel();o&&this.runCoreEditingCommand(e,o,i||{})}}t.CoreEditingCommand=e,t.LineBreakInsert=Object(a.j)(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:_.a.writable,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,e,i){t.pushUndoStop(),t.executeCommands(this.id,p.a.lineBreakInsert(e.cursorConfig,e.model,e.getCursorStates().map(t=>t.modelState.selection)))}}),t.Outdent=Object(a.j)(new class extends e{constructor(){super({id:"outdent",precondition:_.a.writable,kbOpts:{weight:0,kbExpr:f.a.and(_.a.editorTextFocus,_.a.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,e,i){t.pushUndoStop(),t.executeCommands(this.id,p.a.outdent(e.cursorConfig,e.model,e.getCursorStates().map(t=>t.modelState.selection))),t.pushUndoStop()}}),t.Tab=Object(a.j)(new class extends e{constructor(){super({id:"tab",precondition:_.a.writable,kbOpts:{weight:0,kbExpr:f.a.and(_.a.editorTextFocus,_.a.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,e,i){t.pushUndoStop(),t.executeCommands(this.id,p.a.tab(e.cursorConfig,e.model,e.getCursorStates().map(t=>t.modelState.selection))),t.pushUndoStop()}}),t.DeleteLeft=Object(a.j)(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,e,i){const[o,n]=h.a.deleteLeft(e.getPrevEditOperationType(),e.cursorConfig,e.model,e.getCursorStates().map(t=>t.modelState.selection),e.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,n),e.setPrevEditOperationType(2)}}),t.DeleteRight=Object(a.j)(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:_.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,e,i){const[o,n]=h.a.deleteRight(e.getPrevEditOperationType(),e.cursorConfig,e.model,e.getCursorStates().map(t=>t.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,n),e.setPrevEditOperationType(3)}}),t.Undo=new class extends x{constructor(){super(a.h)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,e,i){if(e.hasModel()&&!0!==e.getOption(78))return e.getModel().undo()}},t.Redo=new class extends x{constructor(){super(a.f)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,e,i){if(e.hasModel()&&!0!==e.getOption(78))return e.getModel().redo()}}}(M||(M={}));class A extends a.a{constructor(t,e,i){super({id:t,precondition:void 0,description:i}),this._handlerId=e}runCommand(t,e){const i=t.get(l.a).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,e)}}function O(t,e){T(new A("default:"+t,t)),T(new A(t,t,e))}O("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),O("replacePreviousChar"),O("compositionType"),O("compositionStart"),O("compositionEnd"),O("paste"),O("cut")},2283:function(t,e,i){"use strict";i.d(e,"d",(function(){return o})),i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return g})),i.d(e,"c",(function(){return _}));var o,n=i(1974),s=i(1935),r=i(1943),a=i(1932),l=i(1931),c=i(1940),u=i(1936),h=i(2408),d=i(1941),p=i(1949);!function(t){t.Tap="-monaco-textarea-synthetic-tap"}(o||(o={}));const m={forceCopyWithSyntaxHighlighting:!1};class g{constructor(){this._lastState=null}set(t,e){this._lastState={lastCopiedValue:t,data:e}}get(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)}}g.INSTANCE=new g;class _ extends l.a{constructor(t,e){super(),this.textArea=e,this._onFocus=this._register(new a.a),this.onFocus=this._onFocus.event,this._onBlur=this._register(new a.a),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new a.a),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new a.a),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new a.a),this.onCut=this._onCut.event,this._onPaste=this._register(new a.a),this.onPaste=this._onPaste.event,this._onType=this._register(new a.a),this.onType=this._onType.event,this._onCompositionStart=this._register(new a.a),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new a.a),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new a.a),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new a.a),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=t,this._textArea=this._register(new C(e)),this._asyncTriggerCut=this._register(new r.e(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new r.e(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=h.b.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(s.l(e.domNode,"keydown",t=>{(109===t.keyCode||this._isDoingComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),i=t,this._onKeyDown.fire(t)})),this._register(s.l(e.domNode,"keyup",t=>{this._onKeyUp.fire(t)})),this._register(s.g(e.domNode,"compositionstart",t=>{if(h.c&&console.log("[compositionstart]",t),!this._isDoingComposition){if(this._isDoingComposition=!0,c.f&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===t.data){if(i&&i.equals(109)&&("ArrowRight"===i.code||"ArrowLeft"===i.code)||n.g)return h.c&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",t),this._textAreaState=new h.b(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new d.a(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1})}n.e?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",h.b.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}}));const l=t=>{const e=this._textAreaState,i=h.b.readFromTextArea(this._textArea);return[i,h.b.deduceInput(e,i,t)]},p=()=>{const t=this._textAreaState,e=h.b.readFromTextArea(this._textArea);return[e,h.b.deduceAndroidCompositionInput(t,e)]},m=t=>{const e=this._textAreaState,i=h.b.selectedText(t);return[i,{text:i.value,replacePrevCharCnt:e.selectionEnd-e.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(s.g(e.domNode,"compositionupdate",t=>{if(h.c&&console.log("[compositionupdate]",t),n.e){const[e,i]=p();return this._textAreaState=e,this._onType.fire(i),void this._onCompositionUpdate.fire(t)}const[e,i]=m(t.data||"");this._textAreaState=e,this._onType.fire(i),this._onCompositionUpdate.fire(t)})),this._register(s.g(e.domNode,"compositionend",t=>{if(h.c&&console.log("[compositionend]",t),!this._isDoingComposition)return;if(this._isDoingComposition=!1,n.e){const[t,e]=p();return this._textAreaState=t,this._onType.fire(e),void this._onCompositionEnd.fire()}const[e,i]=m(t.data||"");this._textAreaState=e,this._onType.fire(i),(n.f||n.g)&&(this._textAreaState=h.b.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(s.g(e.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[t,e]=l(c.f);0===e.replacePrevCharCnt&&1===e.text.length&&u.E(e.text.charCodeAt(0))||(this._textAreaState=t,0===this._nextCommand?""===e.text&&0===e.replacePrevCharCnt||this._onType.fire(e):(""===e.text&&0===e.replacePrevCharCnt||this._firePaste(e.text,null),this._nextCommand=0))})),this._register(s.g(e.domNode,"cut",t=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(t),this._asyncTriggerCut.schedule()})),this._register(s.g(e.domNode,"copy",t=>{this._ensureClipboardGetsEditorSelection(t)})),this._register(s.g(e.domNode,"paste",t=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),f.canUseTextData(t)){const[e,i]=f.getTextData(t);""!==e&&this._firePaste(e,i)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",h.b.EMPTY),this._nextCommand=1})),this._register(s.g(e.domNode,"focus",()=>{const t=this._hasFocus;this._setHasFocus(!0),n.h&&!t&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(s.g(e.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(s.g(e.domNode,o.Tap,()=>{n.e&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let t=0;return s.g(document,"selectionchange",e=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!n.f)return;const i=Date.now(),o=i-t;if(t=i,o<5)return;const s=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),u=this._host.deduceModelPosition(c[0],c[1],c[2]),h=this._textAreaState.deduceEditorPosition(l),d=this._host.deduceModelPosition(h[0],h[1],h[2]),m=new p.a(u.lineNumber,u.column,d.lineNumber,d.column);this._onSelectionChangeRequest.fire(m)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const t=s.B(this.textArea.domNode);t?this._setHasFocus(t.activeElement===this.textArea.domNode):s.J(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(t,e){this._hasFocus||(e=e.collapseSelection()),e.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=e}writeScreenReaderContent(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(t){const e=this._host.getDataToCopy(f.canUseTextData(t)),i={version:1,isFromEmptySelection:e.isFromEmptySelection,multicursorText:e.multicursorText,mode:e.mode};g.INSTANCE.set(n.g?e.text.replace(/\r\n/g,"\n"):e.text,i),f.canUseTextData(t)?f.setTextData(t,e.text,e.html,i):this._setAndWriteTextAreaState("copy or cut",h.b.selectedText(e.text))}_firePaste(t,e){e||(e=g.INSTANCE.get(t)),this._onPaste.fire({text:t,metadata:e})}}class f{static canUseTextData(t){return!!t.clipboardData||!!window.clipboardData}static getTextData(t){if(t.clipboardData){t.preventDefault();const i=t.clipboardData.getData("text/plain");let o=null;const n=t.clipboardData.getData("vscode-editor-data");if("string"===typeof n)try{o=JSON.parse(n),1!==o.version&&(o=null)}catch(e){}return[i,o]}if(window.clipboardData){t.preventDefault();return[window.clipboardData.getData("Text"),null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(t,e,i,o){if(t.clipboardData)return t.clipboardData.setData("text/plain",e),"string"===typeof i&&t.clipboardData.setData("text/html",i),t.clipboardData.setData("vscode-editor-data",JSON.stringify(o)),void t.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",e),void t.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class C extends l.a{constructor(t){super(),this._actual=t,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(t){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(t,e){const i=this._actual.domNode;i.value!==e&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=e)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(t,e,i){const o=this._actual.domNode;let r=null;const a=s.B(o);r=a?a.activeElement:document.activeElement;const l=r===o,c=o.selectionStart,u=o.selectionEnd;if(l&&c===e&&u===i)n.g&&window.parent!==window&&o.focus();else{if(l)return this.setIgnoreSelectionChangeTime("setSelectionRange"),o.setSelectionRange(e,i),void(n.g&&window.parent!==window&&o.focus());try{const t=s.P(o);this.setIgnoreSelectionChangeTime("setSelectionRange"),o.focus(),o.setSelectionRange(e,i),s.N(o,t)}catch(h){}}}}},2294:function(t,e,i){"use strict";i.d(e,"d",(function(){return m})),i.d(e,"b",(function(){return g})),i.d(e,"a",(function(){return f})),i.d(e,"c",(function(){return w}));var o,n=i(2295),s=i(1976),r=i(2482),a=i(1941),l=i(1933),c=i(1968),u=i(1935),h=i(2409);class d{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.hitTarget=t,this.type=0}}class p{constructor(t,e){this.position=t,this.spanNode=e,this.type=1}}!function(t){t.createFromDOMInfo=function(t,e,i){const o=t.getPositionFromDOMInfo(e,i);return o?new p(o,e):new d(e)}}(o||(o={}));class m{constructor(t,e){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=e}}class g{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;this.element=t,this.type=e,this.mouseColumn=i,this.position=o,!n&&o&&(n=new l.a(o.lineNumber,o.column,o.lineNumber,o.column)),this.range=n,this.detail=s}static _typeToString(t){return 1===t?"TEXTAREA":2===t?"GUTTER_GLYPH_MARGIN":3===t?"GUTTER_LINE_NUMBERS":4===t?"GUTTER_LINE_DECORATIONS":5===t?"GUTTER_VIEW_ZONE":6===t?"CONTENT_TEXT":7===t?"CONTENT_EMPTY":8===t?"CONTENT_VIEW_ZONE":9===t?"CONTENT_WIDGET":10===t?"OVERVIEW_RULER":11===t?"SCROLLBAR":12===t?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+t.detail}toString(){return g.toString(this)}}class _{static isTextArea(t){return 2===t.length&&3===t[0]&&6===t[1]}static isChildOfViewLines(t){return t.length>=4&&3===t[0]&&7===t[3]}static isStrictChildOfViewLines(t){return t.length>4&&3===t[0]&&7===t[3]}static isChildOfScrollableElement(t){return t.length>=2&&3===t[0]&&5===t[1]}static isChildOfMinimap(t){return t.length>=2&&3===t[0]&&8===t[1]}static isChildOfContentWidgets(t){return t.length>=4&&3===t[0]&&1===t[3]}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&2===t[0]}static isChildOfOverlayWidgets(t){return t.length>=2&&3===t[0]&&4===t[1]}}class f{constructor(t,e,i){this.model=t.model;const o=t.configuration.options;this.layoutInfo=o.get(128),this.viewDomNode=e.viewDomNode,this.lineHeight=o.get(56),this.stickyTabStops=o.get(102),this.typicalHalfwidthCharacterWidth=o.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=t,this._viewHelper=e}getZoneAtCoord(t){return f.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,e){const i=t.viewLayout.getWhitespaceAtVerticalOffset(e);if(i){const o=i.verticalOffset+i.height/2,n=t.model.getLineCount();let s,r=null,l=null;return i.afterLineNumber!==n&&(l=new a.a(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new a.a(i.afterLineNumber,t.model.getLineMaxColumn(i.afterLineNumber))),s=null===l?r:null===r?l:e<o?r:l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:l,position:s}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const t=this._context.model.getLineCount(),e=this._context.model.getLineMaxColumn(t);return{range:new l.a(t,e,t,e),isAfterLines:!0}}const e=this._context.viewLayout.getLineNumberAtVerticalOffset(t),i=this._context.model.getLineMaxColumn(e);return{range:new l.a(e,1,e,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,e){return f._findAttribute(t,e,this._viewHelper.viewDomNode)}static _findAttribute(t,e,i){for(;t&&t!==document.body;){if(t.hasAttribute&&t.hasAttribute(e))return t.getAttribute(e);if(t===i)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,e){return this._viewHelper.visibleRangeForPosition(t,e)}getPositionFromDOMInfo(t,e){return this._viewHelper.getPositionFromDOMInfo(t,e)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class C extends class{constructor(t,e,i){this.editorPos=e,this.pos=i,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+i.y-e.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+i.x-e.x-t.layoutInfo.contentLeft,this.isInMarginArea=i.x-e.x<t.layoutInfo.contentLeft&&i.x-e.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,w._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}{constructor(t,e,i,o){super(t,e,i),this._ctx=t,o?(this.target=o,this.targetPath=s.a.collect(o,t.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.mouseColumn;return e&&e.column<this._ctx.model.getLineMaxColumn(e.lineNumber)&&(n=c.a.visibleColumnFromColumn(this._ctx.model.getLineContent(e.lineNumber),e.column,this._ctx.model.getTextModelOptions().tabSize)+1),new g(this.target,t,n,e,i,o)}withTarget(t){return new C(this._ctx,this.editorPos,this.pos,t)}}const S={isAfterLines:!0};function v(t){return{isAfterLines:!1,horizontalDistanceToText:t}}class w{constructor(t,e){this._context=t,this._viewHelper=e}mouseTargetIsWidget(t){const e=t.target,i=s.a.collect(e,this._viewHelper.viewDomNode);return!(!_.isChildOfContentWidgets(i)&&!_.isChildOfOverflowingContentWidgets(i))||!!_.isChildOfOverlayWidgets(i)}createMouseTarget(t,e,i,o){const n=new f(this._context,this._viewHelper,t),s=new C(n,e,i,o);try{return w._createMouseTarget(n,s,!1)}catch(r){return s.fulfill(0)}}static _createMouseTarget(t,e,i){if(null===e.target){if(i)return e.fulfill(0);const o=w._doHitTest(t,e);return 1===o.type?w.createMouseTargetFromHitTestPosition(t,e,o.spanNode,o.position):this._createMouseTarget(t,e.withTarget(o.hitTarget),!0)}const o=e;let n=null;return n=n||w._hitTestContentWidget(t,o),n=n||w._hitTestOverlayWidget(t,o),n=n||w._hitTestMinimap(t,o),n=n||w._hitTestScrollbarSlider(t,o),n=n||w._hitTestViewZone(t,o),n=n||w._hitTestMargin(t,o),n=n||w._hitTestViewCursor(t,o),n=n||w._hitTestTextArea(t,o),n=n||w._hitTestViewLines(t,o,i),n=n||w._hitTestScrollbar(t,o),n||e.fulfill(0)}static _hitTestContentWidget(t,e){if(_.isChildOfContentWidgets(e.targetPath)||_.isChildOfOverflowingContentWidgets(e.targetPath)){const i=t.findAttribute(e.target,"widgetId");return i?e.fulfill(9,null,null,i):e.fulfill(0)}return null}static _hitTestOverlayWidget(t,e){if(_.isChildOfOverlayWidgets(e.targetPath)){const i=t.findAttribute(e.target,"widgetId");return i?e.fulfill(12,null,null,i):e.fulfill(0)}return null}static _hitTestViewCursor(t,e){if(e.target){const i=t.lastRenderData.lastViewCursorsRenderData;for(const t of i)if(e.target===t.domNode)return e.fulfill(6,t.position,null,{mightBeForeignElement:!1})}if(e.isInContentArea){const i=t.lastRenderData.lastViewCursorsRenderData,o=e.mouseContentHorizontalOffset,n=e.mouseVerticalOffset;for(const s of i){if(o<s.contentLeft)continue;if(o>s.contentLeft+s.width)continue;const i=t.getVerticalOffsetForLineNumber(s.position.lineNumber);if(i<=n&&n<=i+s.height)return e.fulfill(6,s.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(t,e){const i=t.getZoneAtCoord(e.mouseVerticalOffset);if(i){const t=e.isInContentArea?8:5;return e.fulfill(t,i.position,null,i)}return null}static _hitTestTextArea(t,e){return _.isTextArea(e.targetPath)?t.lastRenderData.lastTextareaPosition?e.fulfill(6,t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):e.fulfill(1,t.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(t,e){if(e.isInMarginArea){const i=t.getFullLineRangeAtCoord(e.mouseVerticalOffset),o=i.range.getStartPosition();let n=Math.abs(e.pos.x-e.editorPos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:n};return n-=t.layoutInfo.glyphMarginLeft,n<=t.layoutInfo.glyphMarginWidth?e.fulfill(2,o,i.range,s):(n-=t.layoutInfo.glyphMarginWidth,n<=t.layoutInfo.lineNumbersWidth?e.fulfill(3,o,i.range,s):(n-=t.layoutInfo.lineNumbersWidth,e.fulfill(4,o,i.range,s)))}return null}static _hitTestViewLines(t,e,i){if(!_.isChildOfViewLines(e.targetPath))return null;if(t.isInTopPadding(e.mouseVerticalOffset))return e.fulfill(7,new a.a(1,1),null,S);if(t.isAfterLines(e.mouseVerticalOffset)||t.isInBottomPadding(e.mouseVerticalOffset)){const i=t.model.getLineCount(),o=t.model.getLineMaxColumn(i);return e.fulfill(7,new a.a(i,o),null,S)}if(i){if(_.isStrictChildOfViewLines(e.targetPath)){const i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset);if(0===t.model.getLineLength(i)){const o=t.getLineWidth(i),n=v(e.mouseContentHorizontalOffset-o);return e.fulfill(7,new a.a(i,1),null,n)}const o=t.getLineWidth(i);if(e.mouseContentHorizontalOffset>=o){const n=v(e.mouseContentHorizontalOffset-o),s=new a.a(i,t.model.getLineMaxColumn(i));return e.fulfill(7,s,null,n)}}return e.fulfill(0)}const o=w._doHitTest(t,e);return 1===o.type?w.createMouseTargetFromHitTestPosition(t,e,o.spanNode,o.position):this._createMouseTarget(t,e.withTarget(o.hitTarget),!0)}static _hitTestMinimap(t,e){if(_.isChildOfMinimap(e.targetPath)){const i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),o=t.model.getLineMaxColumn(i);return e.fulfill(11,new a.a(i,o))}return null}static _hitTestScrollbarSlider(t,e){if(_.isChildOfScrollableElement(e.targetPath)&&e.target&&1===e.target.nodeType){const i=e.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),o=t.model.getLineMaxColumn(i);return e.fulfill(11,new a.a(i,o))}}return null}static _hitTestScrollbar(t,e){if(_.isChildOfScrollableElement(e.targetPath)){const i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),o=t.model.getLineMaxColumn(i);return e.fulfill(11,new a.a(i,o))}return null}getMouseColumn(t,e){const i=this._context.configuration.options,o=i.get(128),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-t.x-o.contentLeft;return w._getMouseColumn(n,i.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,e){if(t<0)return 1;return Math.round(t/e)+1}static createMouseTargetFromHitTestPosition(t,e,i,o){const n=o.lineNumber,s=o.column,r=t.getLineWidth(n);if(e.mouseContentHorizontalOffset>r){const t=v(e.mouseContentHorizontalOffset-r);return e.fulfill(7,o,null,t)}const a=t.visibleRangeForPosition(n,s);if(!a)return e.fulfill(0,o);const c=a.left;if(e.mouseContentHorizontalOffset===c)return e.fulfill(6,o,null,{mightBeForeignElement:!1});const u=[];if(u.push({offset:a.left,column:s}),s>1){const e=t.visibleRangeForPosition(n,s-1);e&&u.push({offset:e.left,column:s-1})}if(s<t.model.getLineMaxColumn(n)){const e=t.visibleRangeForPosition(n,s+1);e&&u.push({offset:e.left,column:s+1})}u.sort((t,e)=>t.offset-e.offset);const h=e.pos.toClientCoordinates(),d=i.getBoundingClientRect(),p=d.left<=h.clientX&&h.clientX<=d.right;for(let m=1;m<u.length;m++){const t=u[m-1],i=u[m];if(t.offset<=e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<=i.offset){const s=new l.a(n,t.column,n,i.column);return e.fulfill(6,o,s,{mightBeForeignElement:!p})}}return e.fulfill(6,o,null,{mightBeForeignElement:!p})}static _doHitTestWithCaretRangeFromPoint(t,e){const i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),o=t.getVerticalOffsetForLineNumber(i)+Math.floor(t.lineHeight/2);let s=e.pos.y+(o-e.mouseVerticalOffset);s<=e.editorPos.y&&(s=e.editorPos.y+1),s>=e.editorPos.y+t.layoutInfo.height&&(s=e.editorPos.y+t.layoutInfo.height-1);const r=new n.f(e.pos.x,s),a=this._actualDoHitTestWithCaretRangeFromPoint(t,r.toClientCoordinates());return 1===a.type?a:this._actualDoHitTestWithCaretRangeFromPoint(t,e.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(t,e){const i=u.B(t.viewDomNode);let n;if(n=i?"undefined"===typeof i.caretRangeFromPoint?function(t,e,i){const o=document.createRange();let n=t.elementFromPoint(e,i);if(null!==n){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;const t=n.getBoundingClientRect(),i=window.getComputedStyle(n,null).getPropertyValue("font"),s=n.innerText;let r,a=t.left,l=0;if(e>t.left+t.width)l=s.length;else{const t=b.getInstance();for(let o=0;o<s.length+1;o++){if(r=t.getCharWidth(s.charAt(o),i)/2,a+=r,e<a){l=o;break}a+=r}}o.setStart(n.firstChild,l),o.setEnd(n.firstChild,l)}return o}(i,e.clientX,e.clientY):i.caretRangeFromPoint(e.clientX,e.clientY):document.caretRangeFromPoint(e.clientX,e.clientY),!n||!n.startContainer)return new d;const s=n.startContainer;if(s.nodeType===s.TEXT_NODE){const e=s.parentNode,i=e?e.parentNode:null,a=i?i.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===r.b.CLASS_NAME?o.createFromDOMInfo(t,e,n.startOffset):new d(s.parentNode)}if(s.nodeType===s.ELEMENT_NODE){const e=s.parentNode,i=e?e.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===r.b.CLASS_NAME?o.createFromDOMInfo(t,s,s.textContent.length):new d(s)}return new d}static _doHitTestWithCaretPositionFromPoint(t,e){const i=document.caretPositionFromPoint(e.clientX,e.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const e=i.offsetNode.parentNode,n=e?e.parentNode:null,s=n?n.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===r.b.CLASS_NAME?o.createFromDOMInfo(t,i.offsetNode.parentNode,i.offset):new d(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const e=i.offsetNode.parentNode,n=e&&e.nodeType===e.ELEMENT_NODE?e.className:null,s=e?e.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(n===r.b.CLASS_NAME){const e=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(e)return o.createFromDOMInfo(t,e,0)}else if(a===r.b.CLASS_NAME)return o.createFromDOMInfo(t,i.offsetNode,0)}return new d(i.offsetNode)}static _snapToSoftTabBoundary(t,e){const i=e.getLineContent(t.lineNumber),{tabSize:o}=e.getTextModelOptions(),n=h.a.atomicPosition(i,t.column-1,o,2);return-1!==n?new a.a(t.lineNumber,n+1):t}static _doHitTest(t,e){let i=new d;return"function"===typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(t,e):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(t,e.pos.toClientCoordinates())),1===i.type&&t.stickyTabStops&&(i=new p(this._snapToSoftTabBoundary(i.position,t.model),i.spanNode)),i}}class b{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return b._INSTANCE||(b._INSTANCE=new b),b._INSTANCE}getCharWidth(t,e){const i=t+e;if(this._cache[i])return this._cache[i];const o=this._canvas.getContext("2d");o.font=e;const n=o.measureText(t).width;return this._cache[i]=n,n}}b._INSTANCE=null},2323:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"c",(function(){return _})),i.d(e,"b",(function(){return f}));i(1936);var o=i(1933),n=i(1958),s=i(1931),r=i(1952),a=i(1948),l=i(2056),c=i(1939),u=i(2174),h=i(1937);const d=Object(c.c)("IEditorCancelService"),p=new a.c("cancellableOperation",!1,Object(h.a)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Object(u.b)(d,class{constructor(){this._tokens=new WeakMap}add(t,e){let i,o=this._tokens.get(t);return o||(o=t.invokeWithinContext(t=>({key:p.bindTo(t.get(a.b)),tokens:new l.a})),this._tokens.set(t,o)),o.key.set(!0),i=o.tokens.push(e),()=>{i&&(i(),o.key.set(!o.tokens.isEmpty()),i=void 0)}}cancel(t){const e=this._tokens.get(t);if(!e)return;const i=e.tokens.pop();i&&(i.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);class m extends n.b{constructor(t,e){super(e),this.editor=t,this._unregister=t.invokeWithinContext(e=>e.get(d).add(t,this))}dispose(){this._unregister(),super.dispose()}}Object(r.j)(new class extends r.c{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(t,e){t.get(d).cancel(e)}});class g extends m{constructor(t,e,i,n){super(t,n),this._listener=new s.b,4&e&&this._listener.add(t.onDidChangeCursorPosition(t=>{i&&o.a.containsPosition(i,t.position)||this.cancel()})),2&e&&this._listener.add(t.onDidChangeCursorSelection(t=>{i&&o.a.containsRange(i,t.selection)||this.cancel()})),8&e&&this._listener.add(t.onDidScrollChange(t=>this.cancel())),1&e&&(this._listener.add(t.onDidChangeModel(t=>this.cancel())),this._listener.add(t.onDidChangeModelContent(t=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class _ extends n.b{constructor(t,e){super(e),this._listener=t.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class f{constructor(t,e,i){this._visiblePosition=t,this._visiblePositionScrollDelta=e,this._cursorPosition=i}static capture(t){let e=null,i=0;if(0!==t.getScrollTop()){const o=t.getVisibleRanges();if(o.length>0){e=o[0].getStartPosition();const n=t.getTopForPosition(e.lineNumber,e.column);i=t.getScrollTop()-n}}return new f(e,i,t.getPosition())}restore(t){if(this._visiblePosition){const e=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(e+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(t){const e=t.getPosition();if(!this._cursorPosition||!e)return;const i=t.getTopForLineNumber(e.lineNumber)-t.getTopForLineNumber(this._cursorPosition.lineNumber);t.setScrollTop(t.getScrollTop()+i)}}},2408:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return l}));var o=i(1936),n=i(1941),s=i(1933);const r=!1;class a{constructor(t,e,i,o,n){this.value=t,this.selectionStart=e,this.selectionEnd=i,this.selectionStartPosition=o,this.selectionEndPosition=n}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(t){return new a(t.getValue(),t.getSelectionStart(),t.getSelectionEnd(),null,null)}collapseSelection(){return new a(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(t,e,i){r&&console.log("writeToTextArea "+t+": "+this.toString()),e.setValue(t,this.value),i&&e.setSelectionRange(t,this.selectionStart,this.selectionEnd)}deduceEditorPosition(t){if(t<=this.selectionStart){const e=this.value.substring(t,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,e,-1)}if(t>=this.selectionEnd){const e=this.value.substring(this.selectionEnd,t);return this._finishDeduceEditorPosition(this.selectionEndPosition,e,1)}const e=this.value.substring(this.selectionStart,t);if(-1===e.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,e,1);const i=this.value.substring(t,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(t,e,i){let o=0,n=-1;for(;-1!==(n=e.indexOf("\n",n+1));)o++;return[t,i*e.length,o]}static selectedText(t){return new a(t,0,t.length,null,null)}static deduceInput(t,e,i){if(!t)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};r&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+t.toString()),console.log("CURRENT STATE: "+e.toString()));let n=t.value,s=t.selectionStart,a=t.selectionEnd,l=e.value,c=e.selectionStart,u=e.selectionEnd;const h=n.substring(a),d=l.substring(u),p=o.e(h,d);l=l.substring(0,l.length-p),n=n.substring(0,n.length-p);const m=n.substring(0,s),g=l.substring(0,c),_=o.d(m,g);if(l=l.substring(_),n=n.substring(_),c-=_,s-=_,u-=_,a-=_,r&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+n+">, selectionStart: "+s+", selectionEnd: "+a),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+c+", selectionEnd: "+u)),i&&c===u&&n.length>0){let t=null;if(c===l.length?l.startsWith(n)&&(t=l.substring(n.length)):l.endsWith(n)&&(t=l.substring(0,l.length-n.length)),null!==t&&t.length>0&&(/\uFE0F/.test(t)||o.k(t)))return{text:t,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(c===u){if(n===l&&0===s&&a===n.length&&c===l.length&&-1===l.indexOf("\n")&&o.l(l))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const t=m.length-_;return r&&console.log("REMOVE PREVIOUS: "+(m.length-_)+" chars"),{text:l,replacePrevCharCnt:t,replaceNextCharCnt:0,positionDelta:0}}return{text:l,replacePrevCharCnt:a-s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(t,e){if(!t)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(r&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+t.toString()),console.log("CURRENT STATE: "+e.toString())),t.value===e.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:e.selectionEnd-t.selectionEnd};const i=Math.min(o.d(t.value,e.value),t.selectionEnd),n=Math.min(o.e(t.value,e.value),t.value.length-t.selectionEnd),s=t.value.substring(i,t.value.length-n),a=e.value.substring(i,e.value.length-n),l=t.selectionStart-i,c=t.selectionEnd-i,u=e.selectionStart-i,h=e.selectionEnd-i;return r&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+s+">, selectionStart: "+l+", selectionEnd: "+c),console.log("AFTER DIFFING CURRENT STATE: <"+a+">, selectionStart: "+u+", selectionEnd: "+h)),{text:a,replacePrevCharCnt:c,replaceNextCharCnt:s.length-c,positionDelta:h-a.length}}}a.EMPTY=new a("",0,0,null,null);class l{static _getPageOfLine(t,e){return Math.floor((t-1)/e)}static _getRangeForPage(t,e){const i=t*e,o=i+1,n=i+e;return new s.a(o,1,n+1,1)}static fromEditorSelection(t,e,i,o,r){const c=l._getPageOfLine(i.startLineNumber,o),u=l._getRangeForPage(c,o),h=l._getPageOfLine(i.endLineNumber,o),d=l._getRangeForPage(h,o),p=u.intersectRanges(new s.a(1,1,i.startLineNumber,i.startColumn));let m=e.getValueInRange(p,1);const g=e.getLineCount(),_=e.getLineMaxColumn(g),f=d.intersectRanges(new s.a(i.endLineNumber,i.endColumn,g,_));let C,S=e.getValueInRange(f,1);if(c===h||c+1===h)C=e.getValueInRange(i,1);else{const t=u.intersectRanges(i),o=d.intersectRanges(i);C=e.getValueInRange(t,1)+String.fromCharCode(8230)+e.getValueInRange(o,1)}if(r){const t=500;m.length>t&&(m=m.substring(m.length-t,m.length)),S.length>t&&(S=S.substring(0,t)),C.length>2*t&&(C=C.substring(0,t)+String.fromCharCode(8230)+C.substring(C.length-t,C.length))}return new a(m+C+S,m.length,m.length+C.length,new n.a(i.startLineNumber,i.startColumn),new n.a(i.endLineNumber,i.endColumn))}}},2411:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i(1931);class n extends o.a{constructor(t,e,i){super(),this.referenceDomElement=t,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,e)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!==typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(t=>{t&&t[0]&&t[0].contentRect?this.observe({width:t[0].contentRect.width,height:t[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(t){this.measureReferenceDomElement(!0,t)}measureReferenceDomElement(t,e){let i=0,o=0;e?(i=e.width,o=e.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,o=this.referenceDomElement.clientHeight),i=Math.max(5,i),o=Math.max(5,o),this.width===i&&this.height===o||(this.width=i,this.height=o,t&&this.changeCallback())}}},2812:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var o,n=i(2813),s=i(2166),r=i(2087),a=i(1945),l=i(2420),c=i(1932),u=i(1931),h=i(1951),d=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},p=function(t,e){return function(i,o){e(i,o,t)}},m=function(t,e,i,o){return new(i||(i=Promise))((function(n,s){function r(t){try{l(o.next(t))}catch(e){s(e)}}function a(t){try{l(o.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))};let g=class t{constructor(t,e,i){this._options=t,this._modeService=e,this._openerService=i,this._onDidRenderAsync=new c.a,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(t,e,i){const o=new u.b;let s;return s=t?Object(n.a)(t,Object.assign(Object.assign({},this._getRenderOptions(t,o)),e),i):document.createElement("span"),{element:s,dispose:()=>o.dispose()}}_getRenderOptions(e,i){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(e,i)=>m(this,void 0,void 0,(function*(){var o,n,s,r;let a;e?a=this._modeService.getModeIdForLanguageName(e):this._options.editor&&(a=null===(o=this._options.editor.getModel())||void 0===o?void 0:o.getLanguageIdentifier().language),a||(a="plaintext"),this._modeService.triggerMode(a);const c=null!==(n=yield h.D.getPromise(a))&&void 0!==n?n:void 0,u=document.createElement("span");u.innerHTML=null!==(r=null===(s=t._ttpTokenizer)||void 0===s?void 0:s.createHTML(i,c))&&void 0!==r?r:Object(l.b)(i,c);let d=this._options.codeBlockFontFamily;return this._options.editor&&(d=this._options.editor.getOption(40).fontFamily),d&&(u.style.fontFamily=d),u})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:t=>this._openerService.open(t,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(a.e),disposeables:i}}}};g._ttpTokenizer=null===(o=window.trustedTypes)||void 0===o?void 0:o.createPolicy("tokenizeToString",{createHTML:(t,e)=>Object(l.b)(t,e)}),g=d([p(1,r.a),p(2,s.a)],g)},2824:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));i(2825);var o=i(1937),n=i(1974),s=i(1957),r=i(1940),a=i(1936),l=i(2012),c=i(2283),u=i(2408),h=i(1976),d=i(2427),p=i(2428),m=i(1967),g=i(2131),_=i(1941),f=i(1933),C=i(1949),S=i(2184);class v{constructor(t,e,i){this.top=t,this.left=e,this.width=i}setWidth(t){return new v(this.top,this.left,t)}}const w=n.g;class b extends h.b{constructor(t,e,i){super(t),this._primaryCursorPosition=new _.a(1,1),this._primaryCursorVisibleRange=null,this._viewController=e,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const a=this._context.configuration.options,l=a.get(128);this._setAccessibilityOptions(a),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._contentHeight=l.height,this._fontInfo=a.get(40),this._lineHeight=a.get(56),this._emptySelectionClipboard=a.get(30),this._copyWithSyntaxHighlighting=a.get(19),this._visibleTextArea=null,this._selections=[new C.a(1,1,1,1)],this._modelSelections=[new C.a(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Object(s.b)(document.createElement("textarea")),h.a.write(this.textArea,6),this.textArea.setClassName("inputarea "+S.a),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(a)),this.textArea.setAttribute("tabindex",String(a.get(110))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",o.a("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),a.get(28)&&a.get(78)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Object(s.b)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const d={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:t=>this._context.model.getLineMaxColumn(t),getValueInRange:(t,e)=>this._context.model.getValueInRange(t,e)},p={getDataToCopy:t=>{const e=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,r.j),i=this._context.model.getEOL(),o=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),n=Array.isArray(e)?e:null,s=Array.isArray(e)?e.join(i):e;let a=void 0,l=null;if(t&&(c.a.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&s.length<65536)){const t=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);t&&(a=t.html,l=t.mode)}return{isFromEmptySelection:o,multicursorText:n,text:s,html:a,mode:l}},getScreenReaderContent:t=>{if(1===this._accessibilitySupport){if(r.f){const t=this._selections[0];if(t.isEmpty()){const e=t.getStartPosition();let i=this._getWordBeforePosition(e);if(0===i.length&&(i=this._getCharacterBeforePosition(e)),i.length>0)return new u.b(i,i.length,i.length,e,e)}}return u.b.EMPTY}if(n.e){const t=this._selections[0];if(t.isEmpty()){const e=t.getStartPosition(),[i,o]=this._getAndroidWordAtPosition(e);if(i.length>0)return new u.b(i,o,o,e,e)}return u.b.EMPTY}return u.a.fromEditorSelection(t,d,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(t,e,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(t,e,i)};this._textAreaInput=this._register(new c.c(p,this.textArea)),this._register(this._textAreaInput.onKeyDown(t=>{this._viewController.emitKeyDown(t)})),this._register(this._textAreaInput.onKeyUp(t=>{this._viewController.emitKeyUp(t)})),this._register(this._textAreaInput.onPaste(t=>{let e=!1,i=null,o=null;t.metadata&&(e=this._emptySelectionClipboard&&!!t.metadata.isFromEmptySelection,i="undefined"!==typeof t.metadata.multicursorText?t.metadata.multicursorText:null,o=t.metadata.mode),this._viewController.paste(t.text,e,i,o)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(t=>{t.replacePrevCharCnt||t.replaceNextCharCnt||t.positionDelta?(u.c&&console.log(` => compositionType: <<${t.text}>>, ${t.replacePrevCharCnt}, ${t.replaceNextCharCnt}, ${t.positionDelta}`),this._viewController.compositionType(t.text,t.replacePrevCharCnt,t.replaceNextCharCnt,t.positionDelta)):(u.c&&console.log(` => type: <<${t.text}>>`),this._viewController.type(t.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(t=>{this._viewController.setSelection(t)})),this._register(this._textAreaInput.onCompositionStart(t=>{const e=this._selections[0].startLineNumber,i=this._selections[0].startColumn+t.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new f.a(e,i,e,i),0,1);const o=this._viewHelper.visibleRangeForPositionRelativeToEditor(e,i);o&&(this._visibleTextArea=new v(this._context.viewLayout.getVerticalOffsetForLineNumber(e),o.left,w?0:1),this._render()),this.textArea.setClassName(`inputarea ${S.a} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(t=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(t,e){const i=document.createElement("canvas").getContext("2d");i.font=function(t){return e="normal",i=t.fontWeight,o=t.fontSize,n=t.lineHeight,s=t.fontFamily,`${e} normal ${i} ${o}px / ${n}px ${s}`;var e,i,o,n,s}(e);const o=i.measureText(t);return n.g?o.width+2:o.width}(t.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea "+S.a),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const e=this._context.model.getLineContent(t.lineNumber),i=Object(g.a)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let o=!0,n=t.column,s=!0,r=t.column,a=0;for(;a<50&&(o||s);){if(o&&n<=1&&(o=!1),o){const t=e.charCodeAt(n-2);0!==i.get(t)?o=!1:n--}if(s&&r>e.length&&(s=!1),s){const t=e.charCodeAt(r-1);0!==i.get(t)?s=!1:r++}a++}return[e.substring(n-1,r-1),t.column-n]}_getWordBeforePosition(t){const e=this._context.model.getLineContent(t.lineNumber),i=Object(g.a)(this._context.configuration.options.get(114));let o=t.column,n=0;for(;o>1;){const s=e.charCodeAt(o-2);if(0!==i.get(s)||n>50)return e.substring(o-1,t.column-1);n++,o--}return e.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const e=this._context.model.getLineContent(t.lineNumber).charAt(t.column-2);if(!a.E(e.charCodeAt(0)))return e}return""}_getAriaLabel(t){return 1===t.get(2)?o.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",r.d?"Shift+Alt+F1":"Alt+F1"):t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const e=t.get(3);2===this._accessibilitySupport&&e===m.g.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=e}onConfigurationChanged(t){const e=this._context.configuration.options,i=e.get(128);return this._setAccessibilityOptions(e),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=e.get(40),this._lineHeight=e.get(56),this._emptySelectionClipboard=e.get(30),this._copyWithSyntaxHighlighting=e.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(e)),this.textArea.setAttribute("tabindex",String(e.get(110))),(t.hasChanged(28)||t.hasChanged(78))&&(e.get(28)&&e.get(78)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),t.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}prepareRender(t){this._primaryCursorPosition=new _.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition)}render(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const e=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;e<0||e>this._contentHeight?this._renderAtTopLeft():r.f?this._renderInsideEditor(this._primaryCursorPosition,e,t,w?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,e,t,w?0:1,w?0:1)}_renderInsideEditor(t,e,i,o,n){this._lastRenderPosition=t;const s=this.textArea,r=this.textAreaCover;l.a.applyFontInfo(s,this._fontInfo),s.setTop(e),s.setLeft(i),s.setWidth(o),s.setHeight(n),r.setTop(0),r.setLeft(0),r.setWidth(0),r.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const t=this.textArea,e=this.textAreaCover;if(l.a.applyFontInfo(t,this._fontInfo),t.setTop(0),t.setLeft(0),e.setTop(0),e.setLeft(0),w)return t.setWidth(0),t.setHeight(0),e.setWidth(0),void e.setHeight(0);t.setWidth(1),t.setHeight(1),e.setWidth(1),e.setHeight(1);const i=this._context.configuration.options;i.get(46)?e.setClassName("monaco-editor-background textAreaCover "+p.a.OUTER_CLASS_NAME):0!==i.get(57).renderType?e.setClassName("monaco-editor-background textAreaCover "+d.a.CLASS_NAME):e.setClassName("monaco-editor-background textAreaCover")}}},2825:function(t,e,i){},3049:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var o=i(1935),n=i(1940),s=i(2023),r=i(1931),a=i(1992),l=i(1943),c=i(2294),u=i(2295),h=i(2275),d=i(1941),p=i(1949),m=i(2138);function g(t){return function(e,i){let o=!1;return t&&(o=t.mouseTargetIsWidget(i)),o||i.preventDefault(),i}}class _ extends m.a{constructor(t,e,i){super(),this._context=t,this.viewController=e,this.viewHelper=i,this.mouseTargetFactory=new c.c(this._context,i),this._mouseDownOperation=this._register(new f(this._context,this.viewController,this.viewHelper,(t,e)=>this._createMouseTarget(t,e),t=>this._getMouseColumn(t))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(128).height;const s=new u.c(this.viewHelper.viewDomNode);this._register(s.onContextMenu(this.viewHelper.viewDomNode,t=>this._onContextMenu(t,!0))),this._register(s.onMouseMoveThrottled(this.viewHelper.viewDomNode,t=>this._onMouseMove(t),g(this.mouseTargetFactory),_.MOUSE_MOVE_MINIMUM_TIME)),this._register(s.onMouseUp(this.viewHelper.viewDomNode,t=>this._onMouseUp(t))),this._register(s.onMouseLeave(this.viewHelper.viewDomNode,t=>this._onMouseLeave(t))),this._register(s.onMouseDown(this.viewHelper.viewDomNode,t=>this._onMouseDown(t)));this._register(o.g(this.viewHelper.viewDomNode,o.d.MOUSE_WHEEL,t=>{if(this.viewController.emitMouseWheel(t),!this._context.configuration.options.get(65))return;const e=new a.b(t);if(n.f?(t.metaKey||t.ctrlKey)&&!t.shiftKey&&!t.altKey:t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){const t=h.a.getZoomLevel(),i=e.deltaY>0?1:-1;h.a.setZoomLevel(t+i),e.preventDefault(),e.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(128)){const t=this._context.configuration.options.get(128).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}onScrollChanged(t){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(t,e){const i=new u.a(t,e).toPageCoordinates(),o=Object(u.g)(this.viewHelper.viewDomNode);return i.y<o.y||i.y>o.y+o.height||i.x<o.x||i.x>o.x+o.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,i,null)}_createMouseTarget(t,e){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,e?t.target:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.editorPos,t.pos)}_onContextMenu(t,e){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,e)})}_onMouseMove(t){if(this._mouseDownOperation.isActive())return;t.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t){const e=this._createMouseTarget(t,!0),i=6===e.type||7===e.type,o=2===e.type||3===e.type||4===e.type,s=3===e.type,r=this._context.configuration.options.get(96),a=8===e.type||5===e.type,l=9===e.type;let c=t.leftButton||t.middleButton;n.f&&t.leftButton&&t.ctrlKey&&(c=!1);const u=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(i||s&&r))u(),this._mouseDownOperation.start(e.type,t);else if(o)t.preventDefault();else if(a){const i=e.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(u(),this._mouseDownOperation.start(e.type,t),t.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(e.detail)&&(u(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:e})}}_.MOUSE_MOVE_MINIMUM_TIME=100;class f extends r.a{constructor(t,e,i,o,n){super(),this._context=t,this._viewController=e,this._viewHelper=i,this._createMouseTarget=o,this._getMouseColumn=n,this._mouseMoveMonitor=this._register(new u.e(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new l.g),this._mouseState=new C,this._currentSelection=new p.a(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const e=this._findMousePosition(t,!0);e&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:e}):this._dispatchMouse(e,!0))}start(t,e){this._lastMouseEvent=e,this._mouseState.setStartedOnLineNumbers(3===t),this._mouseState.setStartButtons(e),this._mouseState.setModifiers(e);const i=this._findMousePosition(e,!0);if(!i||!i.position)return;this._mouseState.trySetCount(e.detail,i.position),e.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(78)&&o.get(29)&&!o.get(16)&&!this._mouseState.altKey&&e.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,g(null),t=>this._onMouseDownThenMove(t),t=>{const e=this._findMousePosition(this._lastMouseEvent,!0);t&&t instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:e?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,e.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,g(null),t=>this._onMouseDownThenMove(t),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const t=this._findMousePosition(this._lastMouseEvent,!1);t&&(this._mouseState.isDragAndDrop||this._dispatchMouse(t,!0))},10)}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const e=t.editorPos,i=this._context.model,o=this._context.viewLayout,n=this._getMouseColumn(t);if(t.posy<e.y){const i=Math.max(o.getCurrentScrollTop()-(e.y-t.posy),0),s=c.a.getZoneAtCoord(this._context,i);if(s){const t=this._helpPositionJumpOverViewZone(s);if(t)return new c.b(null,13,n,t)}const r=o.getLineNumberAtVerticalOffset(i);return new c.b(null,13,n,new d.a(r,1))}if(t.posy>e.y+e.height){const s=o.getCurrentScrollTop()+(t.posy-e.y),r=c.a.getZoneAtCoord(this._context,s);if(r){const t=this._helpPositionJumpOverViewZone(r);if(t)return new c.b(null,13,n,t)}const a=o.getLineNumberAtVerticalOffset(s);return new c.b(null,13,n,new d.a(a,i.getLineMaxColumn(a)))}const s=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+(t.posy-e.y));return t.posx<e.x?new c.b(null,13,n,new d.a(s,1)):t.posx>e.x+e.width?new c.b(null,13,n,new d.a(s,i.getLineMaxColumn(s))):null}_findMousePosition(t,e){const i=this._getPositionOutsideEditor(t);if(i)return i;const o=this._createMouseTarget(t,e);if(!o.position)return null;if(8===o.type||5===o.type){const t=this._helpPositionJumpOverViewZone(o.detail);if(t)return new c.b(o.element,o.type,o.mouseColumn,t,null,o.detail)}return o}_helpPositionJumpOverViewZone(t){const e=new d.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=t.positionBefore,o=t.positionAfter;return i&&o?i.isBefore(e)?i:o:null}_dispatchMouse(t,e){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:e,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class C{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey}setStartButtons(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton}setStartedOnLineNumbers(t){this._startedOnLineNumbers=t}trySetCount(t,e){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>C.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(e)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=e,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}C.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var S=i(2270),v=i(2283);class w extends _{constructor(t,e,i){super(t,e,i),this._register(s.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(o.g(this.viewHelper.linesContentDomNode,s.a.Tap,t=>this.onTap(t))),this._register(o.g(this.viewHelper.linesContentDomNode,s.a.Change,t=>this.onChange(t))),this._register(o.g(this.viewHelper.linesContentDomNode,s.a.Contextmenu,t=>this._onContextMenu(new u.b(t,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(o.g(this.viewHelper.linesContentDomNode,"pointerdown",t=>{const e=t.pointerType;this._lastPointerType="mouse"!==e?"touch"===e?"touch":"pen":"mouse"}));const n=new u.d(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,t=>this._onMouseMove(t),g(this.mouseTargetFactory),_.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,t=>this._onMouseUp(t))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,t=>this._onMouseLeave(t))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,t=>this._onMouseDown(t)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const e=this._createMouseTarget(new u.b(t,this.viewHelper.viewDomNode),!1);e.position&&this.viewController.dispatchMouse({position:e.position,mouseColumn:e.position.column,startedOnLineNumbers:!1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(t){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t){"touch"!==t.browserEvent.pointerType&&super._onMouseDown(t)}}class b extends _{constructor(t,e,i){super(t,e,i),this._register(s.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(o.g(this.viewHelper.linesContentDomNode,s.a.Tap,t=>this.onTap(t))),this._register(o.g(this.viewHelper.linesContentDomNode,s.a.Change,t=>this.onChange(t))),this._register(o.g(this.viewHelper.linesContentDomNode,s.a.Contextmenu,t=>this._onContextMenu(new u.b(t,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const e=this._createMouseTarget(new u.b(t,this.viewHelper.viewDomNode),!1);if(e.position){const t=document.createEvent("CustomEvent");t.initEvent(v.d.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(t),this.viewController.moveTo(e.position)}}onChange(t){this._context.model.deltaScrollNow(-t.translationX,-t.translationY)}}class x extends r.a{constructor(t,e,i){super(),n.c&&S.a.pointerEvents?this.handler=this._register(new w(t,e,i)):window.TouchEvent?this.handler=this._register(new b(t,e,i)):this.handler=this._register(new _(t,e,i))}getTargetAtClientPoint(t,e){return this.handler.getTargetAtClientPoint(t,e)}}}}]);
//# sourceMappingURL=vendors~console-monaco~ge~monaco~a03ee73f.179e6024.chunk.js.map