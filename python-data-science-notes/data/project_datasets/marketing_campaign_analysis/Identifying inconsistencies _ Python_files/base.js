!function(t){var o,e=document.querySelector("[nonce]"),n=(e&&(o=e.nonce||e.getAttribute("nonce")),{async:1,id:"dcTrackingGeneratorCookieBanner",pagePath:"/banner.js"}),a=window.location.hostname.split(".").slice(-2).join("."),i="datacamp.test"===a||"localhost"===a||"127.0.0.1"===a,c="datacamp-staging.com"===a||i,r=window.location!==window.parent.location,d=!1;try{d=window.navigator.userAgent.includes("x-dc-client=webview")}catch{}var s,u,l="dc_attribution",w=["dc_referrer","utm_campaign","utm_content","utm_medium","utm_source","utm_term"],m="localStorage",f="dc_consent",p=["functional","performance","advertisement"],g=-1<window.location.search.indexOf("display_cookie_banner");function h(){return c?"datacamp-staging.com":"datacamp.com"}function v(e){return"https://"+e.subdomain+"."+e.domain+e.path}function y(e){var n=document.createElement("script");n.src=v({subdomain:"compliance",domain:h(),path:e.pagePath}),e.id&&(n.id=e.id),o&&"null"!==o&&n.setAttribute("nonce",o),n.async=e.async,document.head.appendChild(n)}function S(e){if(!i)for(var n=0;n<t.length;n++)-1<e.indexOf(t[n].category)&&y(t[n])}function k(e){return void 0===window.localStorage?null:window.localStorage.getItem(e)}function b(e){return null===k(e)}function _(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return e?decodeURIComponent(e[2]):null}function L(e){return null===_(e)}function O(e,n,t){var o=new Date((new Date).setFullYear((new Date).getFullYear()+1)).toUTCString();document.cookie=e+"="+n+";path=/;domain=."+a+";expires="+(t||o)+";"}function j(){return["www.datacamp-staging.com","www.datacamp.com"].includes(window.location.hostname)}function E(e){var n;void 0!==window.localStorage&&b(l)&&(n=l,e=e,void 0!==window.localStorage)&&window.localStorage.setItem(n,e)}function C(e){var n;"cookie"===m?(n=e,L(l)&&O(l,n)):E(e)}function T(){return("cookie"===m?L:b)(l)}function A(){T()||("cookie"===m?L(l)||O(l,"",(new Date).toUTCString()):void 0===window.localStorage||b(l)||window.localStorage.removeItem(l))}function I(){if(j()&&!T())if(U().includes("advertisement")){var n=JSON.parse(("cookie"===m?_:k)(l));if(0!==Object.keys(n).length)try{var e=new URL(window.location.href),t=e.searchParams,o=!1;Object.keys(n).forEach(function(e){t.has(e)||(t.append(e,n[e]),o=!0)}),o&&window.history.pushState({},"",e.href.replaceAll("%2B","+")),A()}catch(e){}}else A()}function P(){if(j())if(U().includes("advertisement"))A();else try{var e,n,t=new URL(window.location.href).searchParams,o={};window.document.referrer&&(o.dc_referrer=window.document.referrer);for([e,n]of t.entries())e&&n&&w.includes(e)&&(o[e]=n.replaceAll(" ","+"));0<Object.keys(o).length&&C(JSON.stringify(o))}catch(e){}}function U(){var n;return d?p.slice(0):(n=JSON.parse(_(f)))&&"2.0.0"===n.version?Object.keys(n).filter(function(e){return"version"!==e&&"essential"!==e&&n[e]}):[]}function x(){0<U().length&&S(U())}function D(){window.dispatchEvent(new CustomEvent("dc:consent:updated"))}function G(e){!0===e||"true"===e?(P(),(i||r)&&!g||y(n),window.addEventListener("dc:consent:updated",x,!1),window.addEventListener("dc:consent:updated",I,!1),r&&window.addEventListener("message",function(e){e&&e.data&&"string"==typeof e.data&&"dc:consent:granted"===e.data&&D()},!1)):(O(f,'{"version":"2.0.0","essential":1,"functional":1,"performance":1,"advertisement":1}'),A(),D(),x())}S(["essential"]),g?G(!0):0<U().length?(P(),d&&window.dataLayer&&window.dataLayer.push&&window.dataLayer.push({auto_consent:"true"}),x()):(s=G,(u=new XMLHttpRequest).onreadystatechange=function(){4==u.readyState&&s(u.response)},u.open("GET",v({subdomain:"compliancy",domain:h(),path:"/geolocation"})),u.responseType="json",u.send())}([{async:!0,category:"essential",id:"dcTrackingGeneratorGtm",pagePath:"/scripts/gtm.js"}]);