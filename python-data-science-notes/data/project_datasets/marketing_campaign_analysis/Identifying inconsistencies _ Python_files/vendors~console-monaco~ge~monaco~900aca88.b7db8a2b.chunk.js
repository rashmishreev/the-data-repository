(this["webpackJsonpcampus-app-v2"]=this["webpackJsonpcampus-app-v2"]||[]).push([[19],{2410:function(e,t,n){"use strict";function i(e,t){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;let i="";if(!n){let n=Math.floor(e/t);e%=t;for(let e=0;e<n;e++)i+="\t"}for(let o=0;o<e;o++)i+=" ";return i}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},2787:function(e,t,n){"use strict";n.r(t),n.d(t,"SelectionAnchorSet",(function(){return m}));n(2788);var i=n(1952),o=n(1937),s=n(1964),r=n(1949),a=n(2005),l=n(1948),c=n(2278),d=n(2006),u=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},h=function(e,t){return function(n,i){t(n,i,e)}},g=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const m=new l.c("selectionAnchorSet",!1);let p=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=m.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:r.a.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new c.a).appendText(Object(o.a)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(d.a)(Object(o.a)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(r.a.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};p.ID="editor.contrib.selectionAnchorController",p=u([h(1,l.b)],p);class f extends i.b{constructor(){super({id:"editor.action.setSelectionAnchor",label:Object(o.a)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:s.a.editorTextFocus,primary:Object(a.a)(2089,2080),weight:100}})}run(e,t){return g(this,void 0,void 0,(function*(){p.get(t).setSelectionAnchor()}))}}class C extends i.b{constructor(){super({id:"editor.action.goToSelectionAnchor",label:Object(o.a)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:m})}run(e,t){return g(this,void 0,void 0,(function*(){p.get(t).goToSelectionAnchor()}))}}class b extends i.b{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:Object(o.a)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:m,kbOpts:{kbExpr:s.a.editorTextFocus,primary:Object(a.a)(2089,2089),weight:100}})}run(e,t){return g(this,void 0,void 0,(function*(){p.get(t).selectFromAnchorToCursor()}))}}class v extends i.b{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:Object(o.a)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:m,kbOpts:{kbExpr:s.a.editorTextFocus,primary:9,weight:100}})}run(e,t){return g(this,void 0,void 0,(function*(){p.get(t).cancelSelectionAnchor()}))}}Object(i.k)(p.ID,p),Object(i.i)(f),Object(i.i)(C),Object(i.i)(b),Object(i.i)(v)},2788:function(e,t,n){},2789:function(e,t,n){"use strict";n.r(t),n.d(t,"BracketMatchingController",(function(){return I}));n(2790);var i=n(1937),o=n(1943),s=n(1931),r=n(1952),a=n(1941),l=n(1933),c=n(1949),d=n(1964),u=n(2008),h=n(2026),g=n(1993),m=n(1966),p=n(1944),f=n(1989);const C=Object(m.Sb)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},i.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class b extends r.b{constructor(){super({id:"editor.action.jumpToBracket",label:i.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:d.a.editorTextFocus,primary:3160,weight:100}})}run(e,t){let n=I.get(t);n&&n.jumpToBracket()}}class v extends r.b{constructor(){super({id:"editor.action.selectToBracket",label:i.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){const i=I.get(t);if(!i)return;let o=!0;n&&!1===n.selectBrackets&&(o=!1),i.selectToBracket(o)}}class S{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class I extends s.a{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new o.e(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(61),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(61)&&(this._matchBrackets=this._editor.getOption(61),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(e){return e.getContribution(I.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(t=>{const n=t.getStartPosition(),i=e.matchBracket(n);let o=null;if(i)i[0].containsPosition(n)?o=i[1].getStartPosition():i[1].containsPosition(n)&&(o=i[0].getStartPosition());else{const t=e.findEnclosingBrackets(n);if(t)o=t[0].getStartPosition();else{const t=e.findNextBracket(n);t&&t.range&&(o=t.range.getStartPosition())}}return o?new c.a(o.lineNumber,o.column,o.lineNumber,o.column):new c.a(n.lineNumber,n.column,n.lineNumber,n.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach(i=>{const o=i.getStartPosition();let s=t.matchBracket(o);if(!s&&(s=t.findEnclosingBrackets(o),!s)){const e=t.findNextBracket(o);e&&e.range&&(s=t.matchBracket(e.range.getStartPosition()))}let r=null,a=null;if(s){s.sort(l.a.compareRangesUsingStarts);const[t,n]=s;r=e?t.getStartPosition():t.getEndPosition(),a=e?n.getEndPosition():n.getStartPosition()}r&&a&&n.push(new c.a(r.lineNumber,r.column,a.lineNumber,a.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let i=n.brackets;i&&(e[t++]={range:i[0],options:n.options},e[t++]={range:i[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),n=t.getVersionId();let i=[];this._lastVersionId===n&&(i=this._lastBracketsData);let o=[],s=0;for(let a=0,u=e.length;a<u;a++){let t=e[a];t.isEmpty()&&(o[s++]=t.getStartPosition())}o.length>1&&o.sort(a.a.compare);let r=[],l=0,c=0,d=i.length;for(let a=0,u=o.length;a<u;a++){let e=o[a];for(;c<d&&i[c].position.isBefore(e);)c++;if(c<d&&i[c].position.equals(e))r[l++]=i[c];else{let n=t.matchBracket(e),i=I._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;n||"always"!==this._matchBrackets||(n=t.findEnclosingBrackets(e,20),i=I._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),r[l++]=new S(e,n,i)}}this._lastBracketsData=r,this._lastVersionId=n}}I.ID="editor.contrib.bracketMatchingController",I._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.a.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Object(p.g)(C),position:u.d.Center}}),I._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.a.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),Object(r.k)(I.ID,I),Object(r.i)(v),Object(r.i)(b),Object(p.f)((e,t)=>{const n=e.getColor(g.c);n&&t.addRule(`.monaco-editor .bracket-match { background-color: ${n}; }`);const i=e.getColor(g.d);i&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)}),f.d.appendMenuItem(f.b.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.a({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},2790:function(e,t,n){},2795:function(e,t,n){"use strict";n.r(t),n.d(t,"CutAction",(function(){return C})),n.d(t,"CopyAction",(function(){return b})),n.d(t,"PasteAction",(function(){return v}));var i=n(1937),o=n(1974),s=n(1940),r=n(2283),a=n(1952),l=n(1975),c=n(1964),d=n(1989),u=n(2086),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const g=s.g||document.queryCommandSupported("cut"),m=s.g||document.queryCommandSupported("copy"),p="undefined"!==typeof navigator.clipboard&&!o.g||document.queryCommandSupported("paste");function f(e){return e.register(),e}const C=g?f(new a.e({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:s.g?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:i.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:d.b.EditorContext,group:"9_cutcopypaste",title:i.a("actions.clipboard.cutLabel","Cut"),when:c.a.writable,order:1},{menuId:d.b.CommandPalette,group:"",title:i.a("actions.clipboard.cutLabel","Cut"),order:1},{menuId:d.b.SimpleEditorContext,group:"9_cutcopypaste",title:i.a("actions.clipboard.cutLabel","Cut"),when:c.a.writable,order:1}]})):void 0,b=m?f(new a.e({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:s.g?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:i.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:d.b.EditorContext,group:"9_cutcopypaste",title:i.a("actions.clipboard.copyLabel","Copy"),order:2},{menuId:d.b.CommandPalette,group:"",title:i.a("actions.clipboard.copyLabel","Copy"),order:1},{menuId:d.b.SimpleEditorContext,group:"9_cutcopypaste",title:i.a("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;d.d.appendMenuItem(d.b.MenubarEditMenu,{submenu:d.b.MenubarCopy,title:{value:i.a("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),d.d.appendMenuItem(d.b.EditorContext,{submenu:d.b.EditorContextCopy,title:{value:i.a("copy as","Copy As"),original:"Copy As"},group:"9_cutcopypaste",order:3});const v=p?f(new a.e({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:s.g?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:i.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:d.b.EditorContext,group:"9_cutcopypaste",title:i.a("actions.clipboard.pasteLabel","Paste"),when:c.a.writable,order:4},{menuId:d.b.CommandPalette,group:"",title:i.a("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:d.b.SimpleEditorContext,group:"9_cutcopypaste",title:i.a("actions.clipboard.pasteLabel","Paste"),when:c.a.writable,order:4}]})):void 0;class S extends a.b{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:i.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:c.a.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;!t.getOption(30)&&t.getSelection().isEmpty()||(r.a.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),r.a.forceCopyWithSyntaxHighlighting=!1)}}function I(e,t){e&&(e.addImplementation(1e4,"code-editor",(e,n)=>{const i=e.get(l.a).getFocusedCodeEditor();if(i&&i.hasTextFocus()){const e=i.getOption(30),n=i.getSelection();return n&&n.isEmpty()&&!e||document.execCommand(t),!0}return!1}),e.addImplementation(0,"generic-dom",(e,n)=>(document.execCommand(t),!0)))}I(C,"cut"),I(b,"copy"),v&&(v.addImplementation(1e4,"code-editor",(e,t)=>{const n=e.get(l.a),i=e.get(u.a),o=n.getFocusedCodeEditor();if(o&&o.hasTextFocus()){return!(!document.execCommand("paste")&&s.i)||(h(void 0,void 0,void 0,(function*(){const e=yield i.readText();if(""!==e){const t=r.b.INSTANCE.get(e);let n=!1,i=null,s=null;t&&(n=o.getOption(30)&&!!t.isFromEmptySelection,i="undefined"!==typeof t.multicursorText?t.multicursorText:null,s=t.mode),o.trigger("keyboard","paste",{text:e,pasteOnNewLine:n,multicursorText:i,mode:s})}})),!0)}return!1}),v.addImplementation(0,"generic-dom",(e,t)=>(document.execCommand("paste"),!0))),m&&Object(a.i)(S)},2799:function(e,t,n){"use strict";n.r(t),n.d(t,"getReindentEditOperations",(function(){return C})),n.d(t,"IndentationToSpacesAction",(function(){return b})),n.d(t,"IndentationToTabsAction",(function(){return v})),n.d(t,"ChangeIndentationSizeAction",(function(){return S})),n.d(t,"IndentUsingTabs",(function(){return I})),n.d(t,"IndentUsingSpaces",(function(){return x})),n.d(t,"DetectIndentation",(function(){return _})),n.d(t,"ReindentLinesAction",(function(){return w})),n.d(t,"ReindentSelectedLinesAction",(function(){return L})),n.d(t,"AutoIndentOnPasteCommand",(function(){return O})),n.d(t,"AutoIndentOnPaste",(function(){return y})),n.d(t,"IndentationToSpacesCommand",(function(){return T})),n.d(t,"IndentationToTabsCommand",(function(){return E}));var i=n(1937),o=n(1931),s=n(1936),r=n(1952),a=n(2287),l=n(2e3),c=n(1933),d=n(1949),u=n(1964),h=n(2026),g=n(1979),m=n(1988),p=n(2410),f=n(2173);function C(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let o=g.a.getIndentationRules(e.getLanguageIdentifier().id);if(!o)return[];for(n=Math.min(n,e.getLineCount());t<=n&&o.unIndentedLinePattern;){let n=e.getLineContent(t);if(!o.unIndentedLinePattern.test(n))break;t++}if(t>n-1)return[];const{tabSize:r,indentSize:c,insertSpaces:u}=e.getOptions(),m=(e,t)=>(t=t||1,a.a.shiftIndent(e,e.length+t,r,c,u)),p=(e,t)=>(t=t||1,a.a.unshiftIndent(e,e.length+t,r,c,u));let f,C=[],b=e.getLineContent(t),v=b;if(void 0!==i&&null!==i){f=i;let e=s.x(b);v=f+b.substring(e.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(v)&&(f=p(f),v=f+b.substring(e.length)),b!==v&&C.push(l.a.replaceMove(new d.a(t,1,t,e.length+1),h.b.normalizeIndentation(f,c,u)))}else f=s.x(b);let S=f;o.increaseIndentPattern&&o.increaseIndentPattern.test(v)?(S=m(S),f=m(f)):o.indentNextLinePattern&&o.indentNextLinePattern.test(v)&&(S=m(S));for(let a=++t;a<=n;a++){let t=e.getLineContent(a),n=s.x(t),i=S+t.substring(n.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(i)&&(S=p(S),f=p(f)),n!==S&&C.push(l.a.replaceMove(new d.a(a,1,a,n.length+1),h.b.normalizeIndentation(S,c,u))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(t)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(i)?(f=m(f),S=f):S=o.indentNextLinePattern&&o.indentNextLinePattern.test(i)?m(S):f)}return C}class b extends r.b{constructor(){super({id:b.ID,label:i.a("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:u.a.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),o=t.getSelection();if(!o)return;const s=new T(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}b.ID="editor.action.indentationToSpaces";class v extends r.b{constructor(){super({id:v.ID,label:i.a("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:u.a.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),o=t.getSelection();if(!o)return;const s=new E(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}v.ID="editor.action.indentationToTabs";class S extends r.b{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(f.a),o=e.get(m.a);let s=t.getModel();if(!s)return;let r=o.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget);const a=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize?i.a("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(a,{placeHolder:i.a({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(e=>{e&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}class I extends S{constructor(){super(!1,{id:I.ID,label:i.a("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}I.ID="editor.action.indentUsingTabs";class x extends S{constructor(){super(!0,{id:x.ID,label:i.a("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}x.ID="editor.action.indentUsingSpaces";class _ extends r.b{constructor(){super({id:_.ID,label:i.a("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get(m.a);let i=t.getModel();if(!i)return;let o=n.getCreationOptions(i.getLanguageIdentifier().language,i.uri,i.isForSimpleWidget);i.detectIndentation(o.insertSpaces,o.tabSize)}}_.ID="editor.action.detectIndentation";class w extends r.b{constructor(){super({id:"editor.action.reindentlines",label:i.a("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:u.a.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=C(n,1,n.getLineCount());i.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,i),t.pushUndoStop())}}class L extends r.b{constructor(){super({id:"editor.action.reindentselectedlines",label:i.a("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:u.a.writable})}run(e,t){let n=t.getModel();if(!n)return;let i=t.getSelections();if(null===i)return;let o=[];for(let s of i){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let i=C(n,e,t);o.push(...i)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class O{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&"string"===typeof n.text&&this._edits.push(n)}getEditOperations(e,t){for(let i of this._edits)t.addEditOperation(c.a.lift(i.range),i.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class y{constructor(e){this.callOnDispose=new o.b,this.callOnModel=new o.b,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(44)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(e=>{let{range:t}=e;this.trigger(t)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const n=this.editor.getModel();if(!n)return;if(!n.isCheapToTokenize(e.getStartPosition().lineNumber))return;const i=this.editor.getOption(9),{tabSize:o,indentSize:r,insertSpaces:l}=n.getOptions();let d=[],u={shiftIndent:e=>a.a.shiftIndent(e,e.length+1,o,r,l),unshiftIndent:e=>a.a.unshiftIndent(e,e.length+1,o,r,l)},h=e.startLineNumber;for(;h<=e.endLineNumber&&this.shouldIgnoreLine(n,h);)h++;if(h>e.endLineNumber)return;let m=n.getLineContent(h);if(!/\S/.test(m.substring(0,e.startColumn-1))){let e=g.a.getGoodIndentForLine(i,n,n.getLanguageIdentifier().id,h,u);if(null!==e){let t=s.x(m),i=p.b(e,o);if(i!==p.b(t,o)){let e=p.a(i,o,l);d.push({range:new c.a(h,1,h,t.length+1),text:e}),m=e+m.substr(t.length)}else{let e=g.a.getIndentMetadata(n,h);if(0===e||8===e)return}}}const f=h;for(;h<e.endLineNumber&&!/\S/.test(n.getLineContent(h+1));)h++;if(h!==e.endLineNumber){let t={getLineTokens:e=>n.getLineTokens(e),getLanguageIdentifier:()=>n.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>n.getLanguageIdAtPosition(e,t),getLineContent:e=>e===f?m:n.getLineContent(e)},r=g.a.getGoodIndentForLine(i,t,n.getLanguageIdentifier().id,h+1,u);if(null!==r){let t=p.b(r,o),i=p.b(s.x(n.getLineContent(h+1)),o);if(t!==i){let r=t-i;for(let t=h+1;t<=e.endLineNumber;t++){let e=n.getLineContent(t),i=s.x(e),a=p.b(i,o)+r,u=p.a(a,o,l);u!==i&&d.push({range:new c.a(t,1,t,i.length+1),text:u})}}}}if(d.length>0){this.editor.pushUndoStop();let e=new O(d,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;let i=e.getLineTokens(t);if(i.getCount()>0){let e=i.findTokenIndexAtOffset(n);if(e>=0&&1===i.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function k(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<n;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let n=e.getLineFirstNonWhitespaceColumn(r);if(0===n&&(n=e.getLineMaxColumn(r)),1===n)continue;const a=new c.a(r,1,r,n),l=e.getValueInRange(a),d=i?l.replace(/\t/gi,o):l.replace(s,"\t");t.addEditOperation(a,d)}}y.ID="editor.contrib.autoIndentOnPaste";class T{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),k(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class E{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),k(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(r.k)(y.ID,y),Object(r.i)(b),Object(r.i)(v),Object(r.i)(I),Object(r.i)(x),Object(r.i)(_),Object(r.i)(w),Object(r.i)(L)},2800:function(e,t,n){},2866:function(e,t,n){"use strict";n.r(t);var i=n(1937),o=n(1952),s=n(2134),r=n(1933),a=n(1964),l=n(2285);class c extends o.b{constructor(){super({id:"editor.action.transposeLetters",label:i.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let n=t.getModel(),i=[],o=t.getSelections();for(let a of o){if(!a.isEmpty())continue;let e=a.startLineNumber,t=a.startColumn,o=n.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===o))continue;let c=t===o?a.getPosition():l.a.rightPosition(n,a.getPosition().lineNumber,a.getPosition().column),d=l.a.leftPosition(n,c),u=l.a.leftPosition(n,d),h=n.getValueInRange(r.a.fromPositions(u,d)),g=n.getValueInRange(r.a.fromPositions(d,c)),m=r.a.fromPositions(u,c);i.push(new s.a(m,g+h))}i.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop())}}Object(o.i)(c)},3e3:function(e,t,n){"use strict";n.r(t),n.d(t,"GhostTextController",(function(){return te})),n.d(t,"ActiveGhostTextController",(function(){return ie})),n.d(t,"commitInlineSuggestionAction",(function(){return se})),n.d(t,"ShowNextInlineSuggestionAction",(function(){return re})),n.d(t,"ShowPreviousInlineSuggestionAction",(function(){return ae})),n.d(t,"TriggerInlineSuggestionAction",(function(){return le}));var i,o=n(1931),s=n(1952),r=n(1964),a=(n(2800),n(1935)),l=n(1933),c=n(1975),d=n(1936),u=n(2135),h=n(1967),g=n(2059),m=n(2012),p=n(2085),f=n(1941),C=n(1932),b=n(1944),v=n(1993),S=n(1971),I=n(1968),x=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},_=function(e,t){return function(n,i){t(n,i,e)}};const w=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("editorGhostText",{createHTML:e=>e});class L extends o.a{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new C.a,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(104)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}get expanded(){return void 0===this._expanded||this._expanded}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}let O=class e extends o.a{constructor(e,t,n){super(),this.editor=e,this._codeEditorService=t,this._themeService=n,this.codeEditorDecorationTypeKey=null,this.modelRef=this._register(new o.d),this.decorationIds=[],this.viewZoneId=null,this.viewMoreContentWidget=null,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(27)||e.hasChanged(103)||e.hasChanged(86)||e.hasChanged(80)||e.hasChanged(41)||e.hasChanged(40)||e.hasChanged(56))&&this.render()})),this._register(Object(o.h)(()=>{this.setModel(void 0)}))}get model(){var e;return null===(e=this.modelRef.value)||void 0===e?void 0:e.object}shouldShowHoverAtViewZone(e){return this.viewZoneId===e}setModel(e){var t,n;e!==this.model&&(this.modelRef.value=e?(t=e,n=e.onDidChange(()=>this.render()),{object:t,dispose:()=>n.dispose()}):void 0,this.render())}getRenderData(){var e;if(!this.editor.hasModel()||!(null===(e=this.model)||void 0===e?void 0:e.ghostText))return;const{minReservedLineCount:t,expanded:n}=this.model;let{position:i,lines:o}=this.model.ghostText;const s=this.editor.getModel(),r=s.getLineMaxColumn(i.lineNumber),{tabSize:a}=s.getOptions();return o.length>1&&i.column!==r&&(console.warn("Can only show multiline ghost text at the end of a line"),o=[],i=new f.a(i.lineNumber,r)),{tabSize:a,position:i,lines:o,minReservedLineCount:t,expanded:n}}render(){var t;const n=this.getRenderData();if(this.codeEditorDecorationTypeKey&&(this._codeEditorService.removeDecorationType(this.codeEditorDecorationTypeKey),this.codeEditorDecorationTypeKey=null),n&&n.lines.length>0){const i=this._themeService.getColorTheme().getColor(v.q);let o=void 0,s=void 0;if(i){o=String(i.rgba.a),s=S.a.Format.CSS.format(function(e){const{r:t,b:n,g:i}=e.rgba;return new S.a(new S.b(t,i,n,255))}(i))}const r=this._themeService.getColorTheme().getColor(v.p);let a=void 0;r&&(a="2px dashed "+r),this.codeEditorDecorationTypeKey="0-ghost-text-"+ ++e.decorationTypeCount;const l=((null===(t=this.editor.getModel())||void 0===t?void 0:t.getLineContent(n.position.lineNumber))||"").substr(0,n.position.column-1),c=function(e,t,n,i){const o=t+e,s=I.a.visibleColumnsByColumns(o,n);let r="",a=t.length+1;for(const l of e){if("\t"===l){const e=s[a+1]-s[a];if(i){r+="\u2192";for(let t=1;t<e;t++)r+="\xa0"}else for(let t=0;t<e;t++)r+="\xa0"}else r+=" "===l?i?"\xb7":"\xa0":l;a+=1}return r}(n.lines[0]||"",l,n.tabSize,!1);this._codeEditorService.registerDecorationType("ghost-text",this.codeEditorDecorationTypeKey,{after:{contentText:c,opacity:o,color:s,border:a}})}const i=new Array;n&&this.codeEditorDecorationTypeKey&&i.push({range:l.a.fromPositions(n.position,n.position),options:Object.assign({},this._codeEditorService.resolveDecorationOptions(this.codeEditorDecorationTypeKey,!0))}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,i),this.viewMoreContentWidget&&(this.viewMoreContentWidget.dispose(),this.viewMoreContentWidget=null),this.editor.changeViewZones(e=>{if(this.viewZoneId&&(e.removeZone(this.viewZoneId),this.viewZoneId=null),n){const t=n.lines.slice(1),i=Math.max(t.length,n.minReservedLineCount);if(i>0)if(n.expanded){const o=document.createElement("div");this.renderLines(o,n.tabSize,t),this.viewZoneId=e.addZone({afterLineNumber:n.position.lineNumber,afterColumn:n.position.column,heightInLines:i,domNode:o})}else t.length>0&&(this.viewMoreContentWidget=this.renderViewMoreLines(n.position,n.lines[0],t.length))}})}renderViewMoreLines(e,t,n){const i=this.editor.getOption(40),s=document.createElement("div");s.className="suggest-preview-additional-widget",m.a.applyFontInfoSlow(s,i);const r=document.createElement("span");r.className="content-spacer",r.append(t),s.append(r);const l=document.createElement("span");l.className="content-newline suggest-preview-text",l.append("\u23ce  "),s.append(l);const c=new o.b,d=document.createElement("div");return d.className="button suggest-preview-text",d.append(`+${n} lines\u2026`),c.add(a.l(d,"mousedown",e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),s.append(d),new y(this.editor,e,s,c)}renderLines(e,t,n){const i=this.editor.getOptions(),o=i.get(27),s=i.get(103),r=i.get(80),a=i.get(41),l=i.get(40),c=i.get(56),f=Object(g.a)(1e4);f.appendASCIIString('<div class="suggest-preview-text">');for(let g=0,m=n.length;g<m;g++){const e=n[g];f.appendASCIIString('<div class="view-line'),f.appendASCIIString('" style="top:'),f.appendASCIIString(String(g*c)),f.appendASCIIString('px;width:1000000px;">');const i=d.A(e),m=d.m(e),C=p.a.createEmpty(e);Object(u.d)(new u.c(l.isMonospace&&!o,l.canUseHalfwidthRightwardsArrow,e,!1,i,m,0,C,[],t,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,s,"none",r,a!==h.e.OFF,null),f),f.appendASCIIString("</div>")}f.appendASCIIString("</div>"),m.a.applyFontInfoSlow(e,l);const C=f.build(),b=w?w.createHTML(C):C;e.innerHTML=b}};O.decorationTypeCount=0,O=x([_(1,c.a),_(2,b.b)],O);class y extends o.a{constructor(e,t,n,i){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(i),this._register(Object(o.h)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(b.f)((e,t)=>{const n=e.getColor(v.q);if(n){const e=String(n.rgba.a),i=S.a.Format.CSS.format(function(e){const{r:t,b:n,g:i}=e.rgba;return new S.a(new S.b(t,i,n,255))}(n));t.addRule(`.monaco-editor .suggest-preview-text .mtk1 { opacity: ${e}; color: ${i}; }`)}const i=e.getColor(v.p);i&&t.addRule(`.monaco-editor .suggest-preview-text .mtk1 { border: 2px dashed ${i}; }`)});var k=n(1943),T=n(1958),E=n(1945),M=n(1951),N=n(2e3);class A{constructor(){this._isDisposed=!1,Object(o.i)(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}replace(e){const t=this._value;return this._value=e,t}}var D=n(2171),P=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class R extends o.a{constructor(e,t){super(),this.editor=e,this.commandService=t,this.onDidChangeEmitter=new C.a,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new A),this.active=!1,this._register(t.onDidExecuteCommand(t=>{new Set([s.h.id,s.f.id,D.CoreEditingCommands.Tab.id,D.CoreEditingCommands.DeleteLeft.id,D.CoreEditingCommands.DeleteRight.id]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return!!this.session&&this.session.expanded}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(52).enabled&&(this.session&&this.session.isValid||this.startSession())}startSession(){this.completionSession.value||(this.completionSession.value=new j(this.editor,this.editor.getPosition(),()=>this.active,this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}}class j extends L{constructor(e,t,n,i){super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=i,this.minReservedLineCount=0,this.updateOperation=this._register(new A),this.cache=this._register(new A),this.updateSoon=this._register(new k.e(()=>this.update(M.s.Automatic),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0;let o=void 0;this._register(this.onDidChange(()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==o){o=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,o)}})),this._register(this.editor.onDidChangeModelContent(e=>{if(this.cache.value){let e=!1;for(const t of this.cache.value.completions){const n=this.textModel.getDecorationRange(t.decorationId);n?t.synchronizedRange.equalsRange(n)||(e=!0,t.synchronizedRange=n):Object(E.e)(new Error("Decoration has no range"))}e&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return P(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return P(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return P(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===M.s.Explicit?yield this.updateOperation.value.promise:yield this.update(M.s.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==M.s.Explicit&&(yield this.update(M.s.Explicit))}))}get ghostText(){const e=this.currentCompletion;return e?U(e,this.editor.getModel()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return{text:e.inlineCompletion.text,range:e.synchronizedRange,command:e.inlineCompletion.command,sourceProvider:e.inlineCompletion.sourceProvider,sourceInlineCompletions:e.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:e.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return P(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=Object(k.h)(n=>P(this,void 0,void 0,(function*(){let i;try{i=yield function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.a.None;return P(this,void 0,void 0,(function*(){const o=z(e,t),s=M.t.all(t),r=yield Promise.all(s.map(o=>P(this,void 0,void 0,(function*(){const s=yield o.provideInlineCompletions(t,e,n,i);return{completions:s,provider:o,dispose:()=>{s&&o.freeInlineCompletions(s)}}})))),a=new Map;for(const e of r){const t=e.completions;if(t)for(const n of t.items.map(n=>({text:n.text,range:n.range?l.a.lift(n.range):o,command:n.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:n})))n.range.startLineNumber===n.range.endLineNumber&&a.set(JSON.stringify({text:n.text,range:n.range}),n)}return{items:[...a.values()],dispose:()=>{for(const e of r)e.dispose()}}}))}(t,this.editor.getModel(),{triggerKind:e},n)}catch(o){return void Object(E.e)(o)}n.isCancellationRequested||(this.cache.value=new F(this.editor,i,()=>this.onDidChangeEmitter.fire(),e),this.onDidChangeEmitter.fire())}))),i=new B(n,e);this.updateOperation.value=i,yield n,this.updateOperation.value===i&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.replace(void 0);this.editor.executeEdits("inlineSuggestion.accept",[N.a.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null===t||void 0===t||t.dispose()}).then(void 0,E.f):null===t||void 0===t||t.dispose(),this.onDidChangeEmitter.fire()}}class B{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class F extends o.a{constructor(e,t,n,i){super(),this.triggerKind=i;const s=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(o.h)(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((e,t)=>new V(e,s[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const i=e.getModel();for(const e of this.completions){const n=i.getDecorationRange(e.decorationId);n?e.synchronizedRange.equalsRange(n)||(t=!0,e.synchronizedRange=n):Object(E.e)(new Error("Decoration has no range"))}t&&n()})),this._register(t)}}class V{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}}function W(e){return e.replace(/^\s+/,"")}function U(e,t){const n=t.getValueInRange(e.range);let i;const o=t.getLineFirstNonWhitespaceColumn(e.range.startLineNumber);if(e.text.startsWith(n))i=e.text.substr(n.length);else{if(!(0===o||e.range.startColumn<o))return;{const t=W(n),o=W(e.text);if(!o.startsWith(t))return;i=o.substr(t.length)}}const s=e.range.getEndPosition(),r=d.Q(i);if(!(r.length>1&&t.getLineMaxColumn(s.lineNumber)!==s.column))return{lines:r,position:s}}function z(e,t){const n=t.getWordAtPosition(e),i=t.getLineMaxColumn(e.lineNumber);return n?new l.a(e.lineNumber,n.startColumn,e.lineNumber,i):l.a.fromPositions(e,e.with(void 0,i))}var K=n(2136),H=n(2478),G=n(2982);class Z extends L{constructor(e){super(e),this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new k.e(()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100));const t=G.a.get(this.editor);if(t){let e=!1;const n=()=>{e||(e=!0,this._register(t.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})),this._register(t.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()})),this._register(t.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})))};this._register(C.b.once(t.model.onDidTrigger)(e=>{n()}))}this.updateFromSuggestion(),this._register(Object(o.h)(()=>{const e=G.a.get(this.editor);e&&e.stopForceRenderingAbove()}))}get isActive(){return this._isActive}setExpanded(e){super.setExpanded(e),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(104).preview}updateFromSuggestion(){const e=G.a.get(this.editor);if(!e)return void this.setCurrentInlineCompletion(void 0);if(!this.isSuggestWidgetVisible)return void this.setCurrentInlineCompletion(void 0);const t=e.widget.value.getFocusedItem();t?this.setCurrentInlineCompletion(function(e,t,n){const i=n.item;if(Array.isArray(i.completion.additionalTextEdits))return{text:"",range:l.a.fromPositions(t,t)};let{insertText:o}=i.completion;if(4&i.completion.insertTextRules){const n=(new K.c).parse(o),i=e.editor.getModel();H.a.adjustWhitespace(i,t,n,!0,!0),o=n.toString()}const s=e.getOverwriteInfo(i,!1);return{text:o,range:l.a.fromPositions(t.delta(0,-s.overwriteBefore),t.delta(0,Math.max(s.overwriteAfter,0)))}}(e,this.editor.getPosition(),t)):this.setCurrentInlineCompletion(void 0)}setCurrentInlineCompletion(e){this.currentGhostText=e?U(e,this.editor.getModel())||{lines:[],position:e.range.getEndPosition()}:void 0,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,this.currentGhostText.lines.length-1));const t=G.a.get(this.editor);t&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?t.forceRenderingAbove():t.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}var q=n(1937),$=n(1959),J=n(1948),Q=n(1939),X=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Y=function(e,t){return function(n,i){t(n,i,e)}},ee=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};let te=class e extends o.a{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.activeController=this._register(new o.d),this.triggeredExplicitly=!1,this.contextKeys=new ne(n),this.widget=this._register(t.createInstance(O,this.editor)),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(104)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}updateModelController(){const e=this.editor.getOption(104),t=this.editor.getOption(52);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(ie,this.editor,this.widget,this.contextKeys):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeController.value)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){return this.widget.shouldShowHoverAtViewZone(e)}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeController.value)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeController.value)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeController.value)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeController.value)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeController.value)||void 0===e||e.showPreviousInlineCompletion()}};te.inlineSuggestionVisible=new J.c("inlineSuggestionVisible ",!1,q.a("inlineSuggestionVisible","Whether an inline suggestion is visible")),te.inlineSuggestionHasIndentation=new J.c("inlineSuggestionHasIndentation",!1,q.a("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),te.ID="editor.contrib.ghostTextController",te=X([Y(1,Q.a),Y(2,J.b)],te);class ne{constructor(e){this.contextKeyService=e,this.lastInlineCompletionVisibleValue=!1,this.inlineCompletionVisible=te.inlineSuggestionVisible.bindTo(this.contextKeyService),this.lastInlineCompletionSuggestsIndentationValue=!1,this.inlineCompletionSuggestsIndentation=te.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}setInlineCompletionVisible(e){e!==this.lastInlineCompletionVisibleValue&&(this.inlineCompletionVisible.set(e),this.lastInlineCompletionVisibleValue=e)}setInlineCompletionSuggestsIndentation(e){e!==this.lastInlineCompletionSuggestsIndentationValue&&(this.inlineCompletionSuggestsIndentation.set(e),this.lastInlineCompletionSuggestsIndentationValue=e)}}let ie=class extends o.a{constructor(e,t,n,i){super(),this.editor=e,this.widget=t,this.contextKeys=n,this.commandService=i,this.suggestWidgetAdapterModel=this._register(new Z(this.editor)),this.inlineCompletionsModel=this._register(new R(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel(),this.updateContextKeys()})),this.updateModel(),this._register(Object(o.h)(()=>{t.model!==this.suggestWidgetAdapterModel&&t.model!==this.inlineCompletionsModel||t.setModel(void 0),this.contextKeys.setInlineCompletionVisible(!1),this.contextKeys.setInlineCompletionSuggestsIndentation(!1)})),this.inlineCompletionsModel&&this._register(this.inlineCompletionsModel.onDidChange(()=>{this.updateContextKeys()}))}get activeInlineCompletionsModel(){if(this.widget.model===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateContextKeys(){var e,t;if(this.contextKeys.setInlineCompletionVisible(void 0!==(null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText)),null===(t=this.inlineCompletionsModel)||void 0===t?void 0:t.ghostText){const e=this.inlineCompletionsModel.ghostText.lines[0]||"",t=e.startsWith(" ")||e.startsWith("\t"),n=this.inlineCompletionsModel.ghostText.position,i=this.editor.getModel().getLineIndentColumn(n.lineNumber),o=n.column<=i;this.contextKeys.setInlineCompletionSuggestsIndentation(this.widget.model===this.inlineCompletionsModel&&t&&o)}else this.contextKeys.setInlineCompletionSuggestsIndentation(!1)}shouldShowHoverAt(e){var t;const n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&e.containsPosition(n.position)}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.startSession()}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}updateModel(){var e;this.widget.setModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),null===(e=this.inlineCompletionsModel)||void 0===e||e.setActive(this.widget.model===this.inlineCompletionsModel)}};ie=X([Y(3,$.b)],ie);const oe=s.c.bindToContribution(te.get),se=new oe({id:"editor.action.inlineSuggest.commit",precondition:J.a.and(te.inlineSuggestionVisible,te.inlineSuggestionHasIndentation.toNegated(),r.a.tabMovesFocus.toNegated()),kbOpts:{weight:100,primary:2},handler(e){e.commit(),e.editor.focus()}});Object(s.j)(se),Object(s.j)(new oe({id:"editor.action.inlineSuggest.hide",precondition:te.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class re extends s.b{constructor(){super({id:re.ID,label:q.a("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:J.a.and(r.a.writable,te.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return ee(this,void 0,void 0,(function*(){const e=te.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}re.ID="editor.action.inlineSuggest.showNext";class ae extends s.b{constructor(){super({id:ae.ID,label:q.a("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:J.a.and(r.a.writable,te.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return ee(this,void 0,void 0,(function*(){const e=te.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}ae.ID="editor.action.inlineSuggest.showPrevious";class le extends s.b{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:q.a("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:r.a.writable})}run(e,t){return ee(this,void 0,void 0,(function*(){const e=te.get(t);e&&e.trigger()}))}}Object(s.k)(te.ID,te),Object(s.i)(le),Object(s.i)(re),Object(s.i)(ae)},3019:function(e,t,n){"use strict";n.r(t);var i=n(1937),o=n(2005),s=n(1952),r=n(1933),a=n(1964),l=n(2e3),c=n(1941),d=n(1949),u=n(1979);class h{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const i=t.length;if(n+i>e.length)return!1;for(let o=0;o<i;o++){const i=e.charCodeAt(n+o),s=t.charCodeAt(o);if(i!==s&&(!(i>=65&&i<=90&&i+32===s)&&!(s>=65&&s<=90&&s+32===i)))return!1}return!0}_createOperationsForBlockComment(e,t,n,i,o,s){const a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,u=o.getLineContent(a),g=o.getLineContent(c);let m,p=u.lastIndexOf(t,l-1+t.length),f=g.indexOf(n,d-1-n.length);if(-1!==p&&-1!==f)if(a===c){u.substring(p+t.length,f).indexOf(n)>=0&&(p=-1,f=-1)}else{const e=u.substring(p+t.length),i=g.substring(0,f);(e.indexOf(n)>=0||i.indexOf(n)>=0)&&(p=-1,f=-1)}-1!==p&&-1!==f?(i&&p+t.length<u.length&&32===u.charCodeAt(p+t.length)&&(t+=" "),i&&f>0&&32===g.charCodeAt(f-1)&&(n=" "+n,f-=1),m=h._createRemoveBlockCommentOperations(new r.a(a,p+t.length+1,c,f+1),t,n)):(m=h._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=1===m.length?n:null);for(const r of m)s.addTrackedEditOperation(r.range,r.text)}static _createRemoveBlockCommentOperations(e,t,n){let i=[];return r.a.isEmpty(e)?i.push(l.a.delete(new r.a(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(i.push(l.a.delete(new r.a(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(l.a.delete(new r.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),i}static _createAddBlockCommentOperations(e,t,n,i){let o=[];return r.a.isEmpty(e)?o.push(l.a.replace(new r.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(o.push(l.a.insert(new c.a(e.startLineNumber,e.startColumn),t+(i?" ":""))),o.push(l.a.insert(new c.a(e.endLineNumber,e.endColumn),(i?" ":"")+n))),o}getEditOperations(e,t){const n=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(n);const o=e.getLanguageIdAtPosition(n,i),s=u.a.getComments(o);s&&s.blockCommentStartToken&&s.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(2===n.length){const e=n[0],t=n[1];return new d.a(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=n[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new d.a(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}var g=n(1936);class m{constructor(e,t,n,i,o,s){this._selection=e,this._tabSize=t,this._type=n,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,n){e.tokenizeIfCheap(t);const i=e.getLanguageIdAtPosition(t,1),o=u.a.getComments(i),s=o?o.lineCommentToken:null;if(!s)return null;let r=[];for(let a=0,l=n-t+1;a<l;a++)r[a]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return r}static _analyzeLines(e,t,n,i,o,s,r){let a,l=!0;a=0===e||1!==e;for(let c=0,d=i.length;c<d;c++){const d=i[c],u=o+c;if(u===o&&r){d.ignore=!0;continue}const m=n.getLineContent(u),p=g.u(m);if(-1!==p){if(l=!1,d.ignore=!1,d.commentStrOffset=p,a&&!h._haystackHasNeedleAtOffset(m,d.commentStr,p)&&(0===e?a=!1:1===e||(d.ignore=!0)),a&&t){const e=p+d.commentStrLength;e<m.length&&32===m.charCodeAt(e)&&(d.commentStrLength+=1)}}else d.ignore=s,d.commentStrOffset=m.length}if(0===e&&l){a=!1;for(let e=0,t=i.length;e<t;e++)i[e].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:i}}static _gatherPreflightData(e,t,n,i,o,s,r){const a=m._gatherPreflightCommentStrings(n,i,o);return null===a?{supported:!1}:m._analyzeLines(e,t,n,a,i,s,r)}_executeLineComments(e,t,n,i){let o;n.shouldRemoveComments?o=m._createRemoveLineCommentsOperations(n.lines,i.startLineNumber):(m._normalizeInsertionPoint(e,n.lines,i.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(n.lines,i.startLineNumber));const s=new c.a(i.positionLineNumber,i.positionColumn);for(let a=0,l=o.length;a<l;a++)if(t.addEditOperation(o[a].range,o[a].text),r.a.isEmpty(o[a].range)&&r.a.getStartPosition(o[a].range).equals(s)){e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[a].text||"").length)}this._selectionId=t.trackSelection(i)}_attemptRemoveBlockComment(e,t,n,i){let o=t.startLineNumber,s=t.endLineNumber,a=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(o).lastIndexOf(n,a-1),c=e.getLineContent(s).indexOf(i,t.endColumn-1-n.length);return-1!==l&&-1===c&&(c=e.getLineContent(o).indexOf(i,l+n.length),s=o),-1===l&&-1!==c&&(l=e.getLineContent(s).lastIndexOf(n,c),o=s),!t.isEmpty()||-1!==l&&-1!==c||(l=e.getLineContent(o).indexOf(n),-1!==l&&(c=e.getLineContent(o).indexOf(i,l+n.length))),-1!==l&&32===e.getLineContent(o).charCodeAt(l+n.length)&&(n+=" "),-1!==c&&32===e.getLineContent(s).charCodeAt(c-1)&&(i=" "+i,c-=1),-1!==l&&-1!==c?h._createRemoveBlockCommentOperations(new r.a(o,l+n.length+1,s,c+1),n,i):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let i=e.getLanguageIdAtPosition(n.startLineNumber,1),o=u.a.getComments(i);if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const s=o.blockCommentStartToken,a=o.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,n,s,a);if(!l){if(n.isEmpty()){const t=e.getLineContent(n.startLineNumber);let i=g.u(t);-1===i&&(i=t.length),l=h._createAddBlockCommentOperations(new r.a(n.startLineNumber,i+1,n.startLineNumber,t.length+1),s,a,this._insertSpace)}else l=h._createAddBlockCommentOperations(new r.a(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),s,a,this._insertSpace);1===l.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(n);for(const r of l)t.addEditOperation(r.range,r.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new r.a(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const i=m._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return i.supported?this._executeLineComments(e,t,i,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new d.a(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];o.ignore||n.push(l.a.delete(new r.a(t+i,o.commentStrOffset+1,t+i,o.commentStrOffset+o.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const i=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){const s=e[o];s.ignore||n.push(l.a.insert(new c.a(t+o,s.commentStrOffset+1),s.commentStr+i))}return n}static nextVisibleColumn(e,t,n,i){return n?e+(t-e%t):e+i}static _normalizeInsertionPoint(e,t,n,i){let o,s,r=1073741824;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const o=e.getLineContent(n+a);let s=0;for(let e=0,n=t[a].commentStrOffset;s<r&&e<n;e++)s=m.nextVisibleColumn(s,i,9===o.charCodeAt(e),1);s<r&&(r=s)}r=Math.floor(r/i)*i;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(n+a);let c=0;for(o=0,s=t[a].commentStrOffset;c<r&&o<s;o++)c=m.nextVisibleColumn(c,i,9===l.charCodeAt(o),1);t[a].commentStrOffset=c>r?o-1:o}}}var p=n(1989);class f extends s.b{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const n=[],i=t.getModel().getOptions(),o=t.getOption(17),s=t.getSelections().map((e,t)=>({selection:e,index:t,ignoreFirstLine:!1}));s.sort((e,t)=>r.a.compareRangesUsingStarts(e.selection,t.selection));let a=s[0];for(let r=1;r<s.length;r++){const e=s[r];a.selection.endLineNumber===e.selection.startLineNumber&&(a.index<e.index?e.ignoreFirstLine=!0:(a.ignoreFirstLine=!0,a=e))}for(const r of s)n.push(new m(r.selection,i.tabSize,this._type,o.insertSpace,o.ignoreEmptyLines,r.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class C extends s.b{constructor(){super({id:"editor.action.blockComment",label:i.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:p.b.MenubarEditMenu,group:"5_insert",title:i.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const n=t.getOption(17),i=[],o=t.getSelections();for(const s of o)i.push(new h(s,n.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}Object(s.i)(class extends f{constructor(){super(0,{id:"editor.action.commentLine",label:i.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:p.b.MenubarEditMenu,group:"5_insert",title:i.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),Object(s.i)(class extends f{constructor(){super(1,{id:"editor.action.addCommentLine",label:i.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(o.a)(2089,2081),weight:100}})}}),Object(s.i)(class extends f{constructor(){super(2,{id:"editor.action.removeCommentLine",label:i.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(o.a)(2089,2099),weight:100}})}}),Object(s.i)(C)},3031:function(e,t,n){"use strict";n.r(t);var i=n(1937),o=n(1952),s=n(1964),r=n(1933),a=n(1949);class l{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,i=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==i)&&(this._isMovingLeft||o!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const s=new r.a(n,i-1,n,i),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new r.a(n,o,n,o),a)}else{const s=new r.a(n,o,n,o+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new r.a(n,i,n,i),a)}}computeCursorState(e,t){return this._isMovingLeft?new a.a(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new a.a(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class c extends o.b{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let n=[],i=t.getSelections();for(const o of i)n.push(new l(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}Object(o.i)(class extends c{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:i.a("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:s.a.writable})}}),Object(o.i)(class extends c{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:i.a("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:s.a.writable})}})},3037:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n(2006);var i=n(1950),o=n(1958),s=n(1945),r=n(1955),a=(n(2323),n(2443),n(1941)),l=n(1933),c=(n(1949),n(1951)),d=n(2088),u=n(1988);n(2e3);n(1937);var h=n(2918),g=(n(1939),n(2056)),m=n(1959),p=n(1953),f=n(1997),C=function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};function b(e){const t=[],n=new Set,i=c.g.ordered(e);for(const s of i)t.push(s),s.extensionId&&n.add(h.a.toKey(s.extensionId));const o=c.j.ordered(e);for(const s of o){if(s.extensionId){if(n.has(h.a.toKey(s.extensionId)))continue;n.add(h.a.toKey(s.extensionId))}t.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits:(e,t,n)=>s.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,n)})}return t}class v{static setFormatterSelector(e){return{dispose:v._selectors.unshift(e)}}static select(e,t,n){return C(this,void 0,void 0,(function*(){if(0===e.length)return;const i=f.a.first(v._selectors);return i?yield i(e,t,n):void 0}))}}function S(e,t,n,o,r){return C(this,void 0,void 0,(function*(){const a=c.j.ordered(t);for(const l of a){let a=yield Promise.resolve(l.provideDocumentRangeFormattingEdits(t,n,o,r)).catch(s.f);if(Object(i.l)(a))return yield e.computeMoreMinimalEdits(t.uri,a)}}))}function I(e,t,n,o){return C(this,void 0,void 0,(function*(){const r=b(t);for(const a of r){let r=yield Promise.resolve(a.provideDocumentFormattingEdits(t,n,o)).catch(s.f);if(Object(i.l)(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}function x(e,t,n,i,r){const a=c.x.ordered(t);return 0===a.length||a[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,n,i,r,o.a.None)).catch(s.f).then(n=>e.computeMoreMinimalEdits(t.uri,n))}v._selectors=new g.a,m.a.registerCommand("_executeFormatRangeProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const[a,c,h]=n;Object(p.b)(r.a.isUri(a)),Object(p.b)(l.a.isIRange(c));const g=e.get(u.a).getModel(a);if(!g)throw Object(s.b)("resource");return S(e.get(d.a),g,l.a.lift(c),h,o.a.None)})),m.a.registerCommand("_executeFormatDocumentProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const[a,l]=n;Object(p.b)(r.a.isUri(a));const c=e.get(u.a).getModel(a);if(!c)throw Object(s.b)("resource");return I(e.get(d.a),c,l,o.a.None)})),m.a.registerCommand("_executeFormatOnTypeProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const[o,l,c,h]=n;Object(p.b)(r.a.isUri(o)),Object(p.b)(a.a.isIPosition(l)),Object(p.b)("string"===typeof c);const g=e.get(u.a).getModel(o);if(!g)throw Object(s.b)("resource");return x(e.get(d.a),g,a.a.lift(l),c,h)}))}}]);
//# sourceMappingURL=vendors~console-monaco~ge~monaco~900aca88.b7db8a2b.chunk.js.map